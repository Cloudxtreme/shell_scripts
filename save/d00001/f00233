<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>New Features In the ExtJS 4 Model Class | SoftLayer Development Network</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/sites/all/themes/softlayer/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/ldap_integration/ldaphelp/ldaphelp.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/default/files/ctools/css/12dfdd8531d529d29afe344e45bf1830.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/aggregator/aggregator.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/node/node.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/defaults.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system-menus.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/user/user.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/apachesolr_autocomplete/apachesolr_autocomplete.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/apachesolr_autocomplete/jquery-autocomplete/jquery.autocomplete.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/cck/theme/content-module.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/ctools/css/ctools.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/dhtml_menu/dhtml_menu.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/geshifilter/geshifilter.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/panels/css/panels.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/rate/rate.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/tableofcontents/tableofcontents.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/cck/modules/fieldgroup/fieldgroup.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/views/css/views.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/panels/plugins/layouts/flexible/flexible.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/flagger/css/flagger.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/style.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/css/black.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/css/suckerfish_black.css?s" />
  <script type="text/javascript"> </script>
  <!--[if lte IE 6]>
<script type="text/javascript"> 
    $(document).ready(function(){ 
        $(document).pngFix(); 
    }); 
</script> 
<![endif]-->
    <!--[if IE]>
<style type="text/css" media="all">@import "/sites/all/themes/softlayer/css/ie.css";</style>
<![endif]-->
      <!--[if lte IE 6]>
<script type="text/javascript" src="http://sldn.softlayer.com/sites/all/themes/softlayer/js/suckerfish.js"></script>
<![endif]-->
        <script type="text/javascript" src="http://sldn.softlayer.com/sites/all/themes/softlayer/js/pickstyle.js"></script>
</head>
<body class="sidebar-left">
  
  <div id="header" class="clear-block">
      <div id="logo-title">
                              <a href="/" title="SoftLayer.com"> <img src="/sites/all/themes/softlayer/logo.png" alt="Home" id="logo" /> </a>
                        </div><!-- /logo-title -->
      <div id="name-and-slogan">
        
              </div><!-- /name-and-slogan -->
            <form action="/blog/apunjani/New-Features-ExtJS-4-Model-Class"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text apachesolr-autocomplete unprocessed" />
</div>
<input type="submit" name="op" id="edit-submit-6" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-670db1daa99d917b47678fb7363dd566" value="form-670db1daa99d917b47678fb7363dd566"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
      

      <!-- Needs to be fixed, only temporary fix for now -->
              <div style="clear:both"></div>
        <div id="suckerfishmenu" class="clear-block">   <div class="block block-menu" id="block-menu-primary-links">
  <h2 class="title">Primary links</h2>  <div class="content"><ul class="menu"><li class="leaf first dhtml-menu "><a href="/articles" title="" id="dhtml_menu-1452">Articles</a></li>
<li class="leaf  dhtml-menu "><a href="/blog" title="" id="dhtml_menu-3611">Blog</a></li>
<li class="leaf  dhtml-menu "><a href="/reference/overview" title="" id="dhtml_menu-713">Reference</a></li>
<li class="leaf last dhtml-menu "><a href="https://forums.softlayer.com/forumdisplay.php?f=27" title="Forums" id="dhtml_menu-714">Forums</a></li>
</ul></div></div>
 </div>
          </div><!-- /header -->


  <div id="page">
    <div id="sub-banner">
        <div class="navtext">
          <div class="homelink"><a href="/" class="homelink">SLDN</a></div>
          <div class="sectionsep"> | </div> 
          <div class="sectionlink"><a href="/blog" class="sectionlink">Blog</a></div>
        </div>
    </div><!--/hero-banner -->
            <div id="middlecontainer">
              <div id="sidebar-left"><div class="sidebar-spacer"></div>  <div class="block block-views" id="block-views-Blogs-block_2">
  <h2 class="title">Popular Blogs</h2>  <div class="content"><div class="view view-Blogs view-id-Blogs view-display-id-block_2 view-dom-id-1">
    
  
  
      <div class="view-content">
        <div class="views-row views-row-1 views-row-odd views-row-first">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/jbrown/Technical-Debt">Technical Debt</a></span>
  </div>
  </div>
  <div class="views-row views-row-2 views-row-even">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/apunjani/New-Features-ExtJS-4-Model-Class" class="active">New Features In the ExtJS 4 Model Class</a></span>
  </div>
  </div>
  <div class="views-row views-row-3 views-row-odd">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/jbrown/Unit-Testing-Ember-Data-Models">Unit Testing Ember Data Models</a></span>
  </div>
  </div>
  <div class="views-row views-row-4 views-row-even">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/phil/Getting-Started-Firewalls">Getting Started - Firewalls</a></span>
  </div>
  </div>
  <div class="views-row views-row-5 views-row-odd">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/klandreth/New-DevOps-tools-SoftLayer">New DevOps tools for SoftLayer</a></span>
  </div>
  </div>
  <div class="views-row views-row-6 views-row-even">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/jbrown/Zend-Framework-1xWithout-Inhaling">Zend Framework 1.x...Without Inhaling</a></span>
  </div>
  </div>
  <div class="views-row views-row-7 views-row-odd">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/phil/Getting-started-DNS">Getting started with DNS</a></span>
  </div>
  </div>
  <div class="views-row views-row-8 views-row-even">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/phil/Getting-started-CCIs">Getting started with CCIs</a></span>
  </div>
  </div>
  <div class="views-row views-row-9 views-row-odd">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/phil/How-Solve-Error-fetching-http-headers">How to Solve: Error fetching http headers</a></span>
  </div>
  </div>
  <div class="views-row views-row-10 views-row-even views-row-last">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/blog/kmcdonald/FTPSFTP-SoftLayer-Object-Storage">FTP/SFTP for SoftLayer Object Storage</a></span>
  </div>
  </div>
    </div>
  
  
  
  
  
  
</div> </div></div>
</div>
            <div id="main">
        <div id="squeeze">
                                    <div id="breadcrumb"> <div class="breadcrumb"></div> </div>
                                          <div id="squeeze-content">
            <div id="inner-content">
             
                              <div id="service-links">Share this article:   <div class="block block-service_links" id="block-service_links-service_links">
    <div class="content"><div class="service-links"><a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fsldn.softlayer.com%2Fblog%2Fapunjani%2FNew-Features-ExtJS-4-Model-Class&amp;title=New+Features+In+the+ExtJS+4+Model+Class" title="Digg this post on digg.com" class="service-links-digg" rel="nofollow"><img src="/sites/all/modules/service_links/images/digg.png" alt="Digg" title="" width="16" height="16" /></a> <a href="http://reddit.com/submit?url=http%3A%2F%2Fsldn.softlayer.com%2Fblog%2Fapunjani%2FNew-Features-ExtJS-4-Model-Class&amp;title=New+Features+In+the+ExtJS+4+Model+Class" title="Submit this post on reddit.com." class="service-links-reddit" rel="nofollow"><img src="/sites/all/modules/service_links/images/reddit.png" alt="Reddit" title="" width="16" height="16" /></a> <a href="http://twitter.com/share?url=http%3A%2F%2Fsldn.softlayer.com%2Fblog%2Fapunjani%2FNew-Features-ExtJS-4-Model-Class&amp;text=New%20Features%20In%20the%20ExtJS%204%20Model%20Class" title="Share this on Twitter" class="service-links-twitter" rel="nofollow"><img src="/sites/all/modules/service_links/images/twitter.png" alt="Twitter" title="" width="16" height="16" /></a> <a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fsldn.softlayer.com%2Fblog%2Fapunjani%2FNew-Features-ExtJS-4-Model-Class&amp;t=New+Features+In+the+ExtJS+4+Model+Class" title="Share on Facebook." class="service-links-facebook" rel="nofollow"><img src="/sites/all/modules/service_links/images/facebook.png" alt="Facebook" title="" width="16" height="16" /></a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsldn.softlayer.com%2Fblog%2Fapunjani%2FNew-Features-ExtJS-4-Model-Class&amp;title=New+Features+In+the+ExtJS+4+Model+Class&amp;summary=In+2011%2C+Ext+JS+3+was+%5Brewritten%5D%28http%3A%2F%2Fwww.sencha.com%2Fblog%2Fext-js-3-to-4-migration%2F%29+from+the+ground+up%2C+giving+birth+to+%5BExt+JS+4%5D%28http%3A%2F%2Fdocs.sencha.com%2Fextjs%2F4.1.3%2F%23%21%2Fguide%2Fgetting_started%29.++With+the+changes%2C+Ext+JS+3%27s+Ext.data.Record+is+replaced+by+Ext+JS+4%27s+%5BExt.data.Model%5D%28http%3A%2F%2Fdocs.sencha.com%2Fextjs%2F4.1.3%2F%23%21%2Fapi%2FExt.data.Model%29+class.++This+class+introduces+a+host+of+new+capabilities+that+generally+revolve+around+the+data+contained+in+the+Models%2C+which+are+fully+customizable+based+on+user+or+business+preferences.&amp;source=SoftLayer+Development+Network" title="Publish this post to LinkedIn" class="service-links-linkedin" rel="nofollow"><img src="/sites/all/modules/service_links/images/linkedin.png" alt="LinkedIn" title="" width="16" height="16" /></a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fsldn.softlayer.com%2Fblog%2Fapunjani%2FNew-Features-ExtJS-4-Model-Class&amp;title=New+Features+In+the+ExtJS+4+Model+Class" title="Thumb this up at StumbleUpon" class="service-links-stumbleupon" rel="nofollow"><img src="/sites/all/modules/service_links/images/stumbleit.png" alt="StumbleUpon" title="" width="16" height="16" /></a></div></div></div>
</div>
                <div style="clear:both;"></div>
              
              <h1 class="title">New Features In the ExtJS 4 Model Class</h1>
              <div class="tabs"></div>
                                          <div class="panel-flexible panels-flexible-10 clear-block" >
<div class="panel-flexible-inside panels-flexible-10-inside">
<div class="panels-flexible-region panels-flexible-region-10-center panels-flexible-region-first panels-flexible-region-last">
  <div class="inside panels-flexible-region-inside panels-flexible-region-10-center-inside panels-flexible-region-inside-first panels-flexible-region-inside-last">
<div class="panel-pane pane-node-content" >
  
  
  
  <div class="pane-content">
    <div class="node">
    
  
      <!-- <span class="submitted"></span> <span class="taxonomy"></span> -->
  
  <div class="content"><p>In 2011, Ext JS 3 was <a href="http://www.sencha.com/blog/ext-js-3-to-4-migration/">rewritten</a> from the ground up, giving birth to <a href="http://docs.sencha.com/extjs/4.1.3/#!/guide/getting_started">Ext JS 4</a>.  With the changes, Ext JS 3's Ext.data.Record is replaced by Ext JS 4's <a href="http://docs.sencha.com/extjs/4.1.3/#!/api/Ext.data.Model">Ext.data.Model</a> class.  This class introduces a host of new capabilities that generally revolve around the data contained in the Models, which are fully customizable based on user or business preferences.  While each user may have a different need for utilizing Models, there are a few tasks that are universal when it comes to this new class:</p>
<ol>
<li>Creating Models</li>
<li>Defining relationships between Models</li>
<li>Validating Models</li>
</ol>
<p>Prior to working with Models in Ext JS 4, one or more Models must be created.  That is where we'll begin.</p>
<h2>Creating Models</h2>
<p>The Ext.data.Model class is used to represent an entity within the application, like a user, a vehicle or an account.</p>
<p>Let's look at how we would create a user Model...</p>
<p>We start by using Ext.define function to create a new class that extends the base Ext.data.Model class:</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;">Ext<span style="color: #339933;">.</span><a href="http://www.php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'User'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
            extend<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Ext.data.Model'</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>The user Model will contain one or more <a href="http://docs.sencha.com/extjs/4.1.3/#!/api/Ext.data.Field">Field</a> properties.  Fields are an array of configuration objects which define how the data will be made up:</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;">Ext<span style="color: #339933;">.</span><a href="http://www.php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'User'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
            extend<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Ext.data.Model'</span><span style="color: #339933;">,</span>
            fields<span style="color: #339933;">:</span><span style="color: #009900;">&#91;</span>
                <span style="color: #009900;">&#123;</span> name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'id'</span><span style="color: #339933;">,</span>  type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'int'</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
                <span style="color: #009900;">&#123;</span> name <span style="color: #339933;">:</span> <span style="color: #0000ff;">'name'</span><span style="color: #339933;">,</span> type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'string'</span> <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#93;</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>Now that the Model has been defined let's create an instance of it containing some arbitrary data:</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">var</span> user <span style="color: #339933;">=</span> Ext<span style="color: #339933;">.</span>create<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'User'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
            id<span style="color: #339933;">:</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span>
            name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Henry Brown'</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>To retrieve the data that we just set, we can use the .get property on the Model.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//prints &quot;Henry Brown&quot;</span>
console<span style="color: #339933;">.</span><a href="http://www.php.net/log"><span style="color: #990000;">log</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'First Name  is '</span> <span style="color: #339933;">+</span> user<span style="color: #339933;">.</span>get<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'name'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>   </pre></div>
<h2>Defining relationships between Models</h2>
<p>Models can be linked to one another using <a href="http://docs.sencha.com/extjs/4.1.3/#!/api/Ext.data.association.Association">associations</a>. Take the SLDN, for example. It has many posts and each post is written by a user. If we were to define the relationship between a post and a user then we would say, a user has many posts and a post belongs to a user.</p>
<p>Ext JS 4 supports three types of relationships between Models.</p>
<ul>
<li><em>hasMany</em> defines a one-to-many relationship. </li>
<li><em>belongsTo</em> defines a many-to-one relationship. </li>
<li><em>hasOne</em> defines a one-to-one relationship.</li>
</ul>
<p>Let's take a look at the code for defining the relationship we just discussed.  For this example, ëUserí indicates an SLDN user, while ëPostí indicates a blog post on the SLDN.</p>
<p>The User Model now has a hasMany property which references Post.   This example indicates a single User has multiple Posts.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;">Ext<span style="color: #339933;">.</span><a href="http://www.php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'User'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
            extend<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Ext.data.Model'</span><span style="color: #339933;">,</span>
            fields<span style="color: #339933;">:</span><span style="color: #009900;">&#91;</span>
                <span style="color: #009900;">&#123;</span> name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'id'</span><span style="color: #339933;">,</span>  type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'int'</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
                <span style="color: #009900;">&#123;</span> name <span style="color: #339933;">:</span> <span style="color: #0000ff;">'name'</span><span style="color: #339933;">,</span> type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'string'</span> <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> 
            hasMany<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Post'</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>The Post Model would look as follows, with the converse property of belongsTo which references User.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;">Ext<span style="color: #339933;">.</span><a href="http://www.php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Post'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
            extend<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Ext.data.Model'</span><span style="color: #339933;">,</span>
            fields<span style="color: #339933;">:</span><span style="color: #009900;">&#91;</span>
                <span style="color: #009900;">&#123;</span> name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'id'</span><span style="color: #339933;">,</span>  type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'int'</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
                <span style="color: #009900;">&#123;</span> name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'user_id'</span><span style="color: #339933;">,</span>  type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'int'</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
                <span style="color: #009900;">&#123;</span> name <span style="color: #339933;">:</span> <span style="color: #0000ff;">'title'</span><span style="color: #339933;">,</span> type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'string'</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
                <span style="color: #009900;">&#123;</span> name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'body'</span><span style="color: #339933;">,</span> type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'string'</span> <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
            belongsTo<span style="color: #339933;">:</span> <span style="color: #0000ff;">'User'</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>After defining the Models with the relationships we can now create an instance of the user Model:</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">var</span> user <span style="color: #339933;">=</span> Ext<span style="color: #339933;">.</span>create<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'User'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
            id<span style="color: #339933;">:</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span>
            name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Henry Brown'</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>Let's add a post to the user we created above</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;">user<span style="color: #339933;">.</span>posts<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>add<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#123;</span>
            title<span style="color: #339933;">:</span> <span style="color: #0000ff;">'This is the post title'</span><span style="color: #339933;">,</span>
            body<span style="color: #339933;">:</span> <span style="color: #0000ff;">'This is the body of the post'</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>  </pre></div>
<p>To look at the data for the post that you just added, get the first post and print it to the console using the code below.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">// prints the post object we inserted above</span>
console<span style="color: #339933;">.</span><a href="http://www.php.net/log"><span style="color: #990000;">log</span></a><span style="color: #009900;">&#40;</span> user<span style="color: #339933;">.</span>posts<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>first<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>data <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<h2>Validating Models</h2>
<p>Model <a href="http://docs.sencha.com/extjs/4.1.3/#!/api/Ext.data.validations">validations</a> follow the same format as Field definitions. We specify a Field and a type of validation. The five types of validations built in by default are:</p>
<ul>
<li><em>presence</em> ensures that the field has a value.</li>
<li><em>length</em> ensures the string is between a min and max length.</li>
<li><em>format</em> ensures that the string matches a regular expression.</li>
<li><em>inclusion</em> ensures that a value is within a specific set of values.</li>
<li><em>exclusion</em> ensures that a value is not one of the specific set of values.</li>
</ul>
<p>Let's build on our User Model from the previous example and add validation checks to it. Specifically, we will check to make sure that the name is present.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;">Ext<span style="color: #339933;">.</span><a href="http://www.php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'User'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
            extend<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Ext.data.Model'</span><span style="color: #339933;">,</span>
            fields<span style="color: #339933;">:</span><span style="color: #009900;">&#91;</span>
                <span style="color: #009900;">&#123;</span> name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'id'</span><span style="color: #339933;">,</span>  type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'int'</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
                <span style="color: #009900;">&#123;</span> name <span style="color: #339933;">:</span> <span style="color: #0000ff;">'name'</span><span style="color: #339933;">,</span> type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'string'</span> <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
            validations<span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span>
                <span style="color: #009900;">&#123;</span> type<span style="color: #339933;">:</span> <span style="color: #0000ff;">'presence'</span><span style="color: #339933;">,</span> name<span style="color: #339933;">:</span> <span style="color: #0000ff;">'name'</span> <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
            hasMany<span style="color: #339933;">:</span> <span style="color: #0000ff;">'Post'</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>To see how the validations work, create a User instance and populate just the id. Then validate the instance.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">// Create a user instance with just the id</span>
<span style="color: #000000; font-weight: bold;">var</span> newUser <span style="color: #339933;">=</span> Ext<span style="color: #339933;">.</span>create<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'User'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
            id<span style="color: #339933;">:</span> <span style="color: #cc66cc;">1</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #666666; font-style: italic;">// validate the new user</span>
<span style="color: #000000; font-weight: bold;">var</span> errors <span style="color: #339933;">=</span> newUser<span style="color: #339933;">.</span>validate<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
&nbsp;
<span style="color: #666666; font-style: italic;">// isValid would return false</span>
console<span style="color: #339933;">.</span><a href="http://www.php.net/log"><span style="color: #990000;">log</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Is this user valid ? '</span><span style="color: #339933;">,</span> errors<span style="color: #339933;">.</span>isValid<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//error.items would return the array of errors found on this User Model.</span>
console<span style="color: #339933;">.</span><a href="http://www.php.net/log"><span style="color: #990000;">log</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Errors'</span>  <span style="color: #339933;">,</span> errors<span style="color: #339933;">.</span>items<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//get array of errors specific to a field by using getByField</span>
console<span style="color: #339933;">.</span><a href="http://www.php.net/log"><span style="color: #990000;">log</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Name errors '</span><span style="color: #339933;">,</span> errors<span style="color: #339933;">.</span>getByField<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'name'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>The new Ext JS 4 Data Package has a lot more to offer than what we have covered, but, hopefully you gained an understanding of creating, associating and validating Models.  For more information on using Ext JS 4.1, refer to Sencha's <a href="http://docs.sencha.com/extjs/4.1.3/">online documentation</a>.</p>
<p>-Aziz</p>
<div class="flagger">
					<span class="flaggertitle">Was this helpful?</span>
					<div class="flaggeroption"><a id="flaggeryes" href="#">Yes</a></div>
					<div class="flaggeroption"><a id="flaggerno" href="#">No</a></div>
					<form id="flaggerform" method="post">
					<div style="display:none;" class="flaggermessage">Thank you! If you'd like to leave a comment, please use the form below: <div class="flaggercomment"><textarea class="flaggertext" name="flaggertext"></textarea><input type="submit" class="submit" id="flaggersubmit" value="Submit" /></div></div><div style="display:none" class="flaggersuccess">Your comment has been submitted! Thank you for your feedback.</div>
					</form>
				</div>
				<div id="flaggerget" style="display:none;"></div>
				<div id="flaggernode" style="display:none;">270323</div></div>
  <div class="clear-block clear"></div>

      <div class="links"><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>
  
</div>
  </div>

  
  </div>
  </div>
</div>
</div>
</div>
 
                                        </div><!-- /inner-content -->
          </div><!-- /squeeze-content -->
        </div><!-- /squeeze -->
      </div><!-- /main -->
          </div><!-- /middle-container -->
    <div style="clear:both"></div>
            <div id="footer">
              <div id="footer-region">  <div class="block block-block" id="block-block-3">
    <div class="content"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22553883-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></div></div>
</div>
                  
      &copy; 2013 SoftLayer Technologies, Inc. All rights reserved.
    </div><!-- /footer -->
  <div style="clear:both"></div>
  <script type="text/javascript" src="/sites/all/modules/jquery_update/replace/jquery.min.js?s"></script>
<script type="text/javascript" src="/misc/drupal.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/apachesolr_autocomplete/apachesolr_autocomplete.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/apachesolr_autocomplete/jquery-autocomplete/jquery.autocomplete.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/dhtml_menu/dhtml_menu.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/panels/js/panels.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/jquery.scrollTo-min.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/jquery.localscroll-min.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/tableofcontents.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/flagger/js/flagger.js?s"></script>
<script type="text/javascript" src="/misc/collapse.js?s"></script>
<script type="text/javascript" src="/misc/tableheader.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/views/js/base.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/views/js/ajax_view.js?s"></script>
<script type="text/javascript" src="/sites/all/themes/softlayer/js/jquery.pngFix.js?s"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "apachesolr_autocomplete": { "path": "/apachesolr_autocomplete" }, "dhtmlMenu": { "slide": "slide", "clone": "clone" }, "views": { "ajax_path": "/views/ajax", "ajaxViews": [ { "view_name": "Blogs", "view_display_id": "block_2", "view_args": "", "view_path": "node/270323", "view_base_path": "blog/feed", "view_dom_id": 1, "pager_element": 0 } ] } });
//--><!]]>
</script>
    </div> <!-- /page -->
</body>
</html>
