<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Object Masks | SoftLayer Development Network</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/sites/all/themes/softlayer/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/ldap_integration/ldaphelp/ldaphelp.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/aggregator/aggregator.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/node/node.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/defaults.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system-menus.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/user/user.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/apachesolr_autocomplete/apachesolr_autocomplete.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/apachesolr_autocomplete/jquery-autocomplete/jquery.autocomplete.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/cck/theme/content-module.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/ctools/css/ctools.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/dhtml_menu/dhtml_menu.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/geshifilter/geshifilter.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/panels/css/panels.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/rate/rate.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/tableofcontents/tableofcontents.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/cck/modules/fieldgroup/fieldgroup.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/views/css/views.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/flagger/css/flagger.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/style.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/css/black.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/css/suckerfish_black.css?s" />
  <script type="text/javascript"> </script>
  <!--[if lte IE 6]>
<script type="text/javascript"> 
    $(document).ready(function(){ 
        $(document).pngFix(); 
    }); 
</script> 
<![endif]-->
    <!--[if IE]>
<style type="text/css" media="all">@import "/sites/all/themes/softlayer/css/ie.css";</style>
<![endif]-->
      <!--[if lte IE 6]>
<script type="text/javascript" src="http://sldn.softlayer.com/sites/all/themes/softlayer/js/suckerfish.js"></script>
<![endif]-->
        <script type="text/javascript" src="http://sldn.softlayer.com/sites/all/themes/softlayer/js/pickstyle.js"></script>
</head>
<body class="sidebar-left">
  
  <div id="header" class="clear-block">
      <div id="logo-title">
                              <a href="/" title="SoftLayer.com"> <img src="/sites/all/themes/softlayer/logo.png" alt="Home" id="logo" /> </a>
                        </div><!-- /logo-title -->
      <div id="name-and-slogan">
        
              </div><!-- /name-and-slogan -->
            <form action="/article/Object-Masks"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text apachesolr-autocomplete unprocessed" />
</div>
<input type="submit" name="op" id="edit-submit-2" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-423440e397cf3f83853abd560e7f2554" value="form-423440e397cf3f83853abd560e7f2554"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
      

      <!-- Needs to be fixed, only temporary fix for now -->
              <div style="clear:both"></div>
        <div id="suckerfishmenu" class="clear-block">   <div class="block block-menu" id="block-menu-primary-links">
  <h2 class="title">Primary links</h2>  <div class="content"><ul class="menu"><li class="leaf first dhtml-menu "><a href="/articles" title="" id="dhtml_menu-1452">Articles</a></li>
<li class="leaf  dhtml-menu "><a href="/blog" title="" id="dhtml_menu-3611">Blog</a></li>
<li class="leaf  dhtml-menu "><a href="/reference/overview" title="" id="dhtml_menu-713">Reference</a></li>
<li class="leaf last dhtml-menu "><a href="https://forums.softlayer.com/forumdisplay.php?f=27" title="Forums" id="dhtml_menu-714">Forums</a></li>
</ul></div></div>
 </div>
          </div><!-- /header -->


  <div id="page">
    <div id="sub-banner">
        <div class="navtext">
          <div class="homelink"><a href="/" class="homelink">SLDN</a></div>
          <div class="sectionsep"> | </div> 
          <div class="sectionlink"><a href="/articles" class="sectionlink">Articles</a></div>
      </div>
    </div><!--/hero-banner -->
            <div id="middlecontainer">
              <div id="sidebar-left"><div class="sidebar-spacer"></div>  <div class="block block-views" id="block-views-Key_Articles-block_2">
  <h2 class="title">Key Articles</h2>  <div class="content"><div class="view view-Key-Articles view-id-Key_Articles view-display-id-block_2 view-dom-id-1">
    
  
  
      <div class="view-content">
        <div class="views-row views-row-1 views-row-odd views-row-first">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/Object-Masks" class="active">Object Masks</a></span>
  </div>
  </div>
  <div class="views-row views-row-2 views-row-even">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/CDN-Integration-%E2%80%93-Getting-Information-you-Need-Faster">CDN Integration â€“ Getting the Information you Need, Faster</a></span>
  </div>
  </div>
  <div class="views-row views-row-3 views-row-odd">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/API-Operations-Search-Services">API Operations for Search Services</a></span>
  </div>
  </div>
  <div class="views-row views-row-4 views-row-even views-row-last">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/Legacy-Object-Masks">Legacy Object Masks</a></span>
  </div>
  </div>
    </div>
  
  
  
  
  
  
</div> </div></div>
</div>
            <div id="main">
        <div id="squeeze">
                                    <div id="breadcrumb"> <div class="breadcrumb"></div> </div>
                                          <div id="squeeze-content">
            <div id="inner-content">
             
                              <div id="service-links">Share this article:   <div class="block block-service_links" id="block-service_links-service_links">
    <div class="content"><div class="service-links"><a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FObject-Masks&amp;title=Object+Masks" title="Digg this post on digg.com" class="service-links-digg" rel="nofollow"><img src="/sites/all/modules/service_links/images/digg.png" alt="Digg" title="" width="16" height="16" /></a> <a href="http://reddit.com/submit?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FObject-Masks&amp;title=Object+Masks" title="Submit this post on reddit.com." class="service-links-reddit" rel="nofollow"><img src="/sites/all/modules/service_links/images/reddit.png" alt="Reddit" title="" width="16" height="16" /></a> <a href="http://twitter.com/share?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FObject-Masks&amp;text=Object%20Masks" title="Share this on Twitter" class="service-links-twitter" rel="nofollow"><img src="/sites/all/modules/service_links/images/twitter.png" alt="Twitter" title="" width="16" height="16" /></a> <a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FObject-Masks&amp;t=Object+Masks" title="Share on Facebook." class="service-links-facebook" rel="nofollow"><img src="/sites/all/modules/service_links/images/facebook.png" alt="Facebook" title="" width="16" height="16" /></a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FObject-Masks&amp;title=Object+Masks&amp;summary=&amp;source=SoftLayer+Development+Network" title="Publish this post to LinkedIn" class="service-links-linkedin" rel="nofollow"><img src="/sites/all/modules/service_links/images/linkedin.png" alt="LinkedIn" title="" width="16" height="16" /></a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FObject-Masks&amp;title=Object+Masks" title="Thumb this up at StumbleUpon" class="service-links-stumbleupon" rel="nofollow"><img src="/sites/all/modules/service_links/images/stumbleit.png" alt="StumbleUpon" title="" width="16" height="16" /></a></div></div></div>
</div>
                <div style="clear:both;"></div>
              
              <h1 class="title">Object Masks</h1>
              <div class="tabs"></div>
                                          <div class="node">
    
  
      <!-- <span class="submitted"></span> <span class="taxonomy"></span> -->
  
  <div class="content"><script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc">
<div class="toc-title">Table of contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
<li class="toc-level-1"><a href="#Overview">Overview</a></li>
<li class="toc-level-1"><a href="#Structure">Structure</a>
<ol>
<li class="toc-level-2"><a href="#Root_Node">Root Node</a></li>
<li class="toc-level-2"><a href="#Property">Property</a></li>
<li class="toc-level-2"><a href="#Property_Set">Property Set</a></li>
<li class="toc-level-2"><a href="#Payload_reduction">Payload reduction</a></li>
<li class="toc-level-2"><a href="#Type">Type</a></li>
</ol>
</li>
<li class="toc-level-1"><a href="#Syntax">Syntax</a></li>
<li class="toc-level-1"><a href="#API_interaction">API interaction</a>
<ol>
<li class="toc-level-2"><a href="#SOAP">SOAP</a></li>
<li class="toc-level-2"><a href="#XML-RPC">XML-RPC</a></li>
<li class="toc-level-2"><a href="#REST">REST</a></li>
</ol>
</li>
<li class="toc-level-1"><a href="#Legacy_Object_Masks_"> Legacy Object Masks </a></li>
</ol>
</div>
</div>
<h2 id="Overview">Overview</h2>
<p>In order to obtain relational data from an object in the API you must declare an object mask in your API call. With standard object masks, relational data is pulled using a SOAP header, an XML-RPC struct or a GET parameter in REST. Extended object masks make use of a <a href="http://en.wikipedia.org/wiki/Domain-specific_language">Domain-specific language</a> to reduce the effort required to express what data should be returned from the API. In order to support this new method of object mask, a new input method has been added to each protocol.</p>
<h2 id="Structure">Structure</h2>
<h3 id="Root_Node">Root Node</h3>
<p>Extended object masks start from a "root node" which is a <a href=#Property_Set>property set</a> or a string of "mask" which acts as an alias for the object retuned by the API call. For example, when calling <a href="/reference/services/SoftLayer_Hardware/getObject">SoftLayer_Hardware::getObject</a> the root node "mask" will represent a <a href="/reference/datatypes/SoftLayer_Hardware/">SoftLayer_Hardware Object</a>.</p>
<p>So if we were to send "<span class="geshifilter"><code class="text geshifilter-text">mask</code></span>" as our object mask for SoftLayer_Hardware::getObject, the entire SoftLayer_Hardware object would be returned as if no mask was included.</p>
<h3 id="Property">Property</h3>
<p>A property can be the name of any local or relational property of the returned object type and is appended to the mask with a peroid: "<span class="geshifilter"><code class="text geshifilter-text">.</code></span>".</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">mask.networkComponents</pre></div>
<p>The above object mask used when calling SoftLayer_Hardware::getObject will return the SoftLayer_Hardware object, in addition to an array "networkComponents" containing the SoftLayer_Network_Components associated with that hardware.</p>
<p>It is possible to chain together multiple properties in order to drill down and receive even relational properties of relational properties.  For example, if we wanted to receive a list of network components related to a specific hardware device, a list of VLANs related to those network components and even the primary subnet of each of those VLANs we could use an object mask:</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">mask.networkComponents.networkVlans.primarySubnet</pre></div>
<p>Multiple properties may be defined by listing in the object mask separated by a comma.</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">mask.networkComponents,mask.primaryIpAddress,mask.billingItem</pre></div>
<h3 id="Property_Set">Property Set</h3>
<p>Property sets can be used as an alternative to listing out each property from its root node. A property set is used to declare a list of properties to obtain from an object and is helpful for reducing the verbosity of an object mask.</p>
<p>A property set is a comma-separated list of properties enclosed in brackets <span class="geshifilter"><code class="text geshifilter-text">[</code></span> <span class="geshifilter"><code class="text geshifilter-text">]</code></span> which follows a property name.</p>
<p>The following masks can be considered equivalent:</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">[mask.id,mask.fullyQualifiedDomainName,mask.networkComponents.networkHardware,mask.networkComponents.uplinkComponent]</pre></div>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">mask 
[
    id,fullyQualifiedDomainName,networkComponents [
        networkHardware,uplinkComponent
    ]
]</pre></div>
<h3 id="Payload_reduction">Payload reduction</h3>
<p>Any local properties defined in a mask will result in the API returning only the specified local properties of the object. This feature allows for reduction of the API return data size and can help avoid the need for pagination or additional complication.</p>
<p>For example, when invoking <a href="/reference/services/SoftLayer_Hardware/getObject">SoftLayer_Hardware::getObject</a> the following mask may be used to retrieve only the <span class="geshifilter"><code class="text geshifilter-text">id</code></span>, <span class="geshifilter"><code class="text geshifilter-text">fullyQualifiedDomainName</code></span>, and <span class="geshifilter"><code class="text geshifilter-text">primaryIpAddress</code></span> from the <a href="/reference/datatypes/SoftLayer_Hardware/">SoftLayer_Hardware</a> record. In addition, it will return only the <span class="geshifilter"><code class="text geshifilter-text">longName</code></span> from the <span class="geshifilter"><code class="text geshifilter-text">datacenter</code></span>, and the <span class="geshifilter"><code class="text geshifilter-text">id</code></span>, <span class="geshifilter"><code class="text geshifilter-text">name</code></span>, and <span class="geshifilter"><code class="text geshifilter-text">port</code></span> of each <span class="geshifilter"><code class="text geshifilter-text">networkComponent</code></span>.</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">mask[id,fullyQualifiedDomainName,primaryIpAddress,datacenter.longName,networkComponents[id,name,port]]</pre></div>
<h3 id="Type">Type</h3>
<p>By default the type of returned objects will be inferred and is not required. However it is possible to declare a type for a specific property.</p>
<p>A type is defined by placing a parenthesis set after the property name with the type name enclosed. A type will need to be defined when the default property type does not have a particular property that you need.</p>
<p>For example, the <span class="geshifilter"><code class="text geshifilter-text">controlPanel</code></span> property is not defined on <a href="/reference/services/SoftLayer_Hardware/">SoftLayer_Hardware</a> and as such you will get an error if requesting it via <span class="geshifilter"><code class="text geshifilter-text">mask.controlPanel</code></span> on a call to <a href="/reference/services/SoftLayer_Account/getHardware">SoftLayer_Account::getHardware</a>. In order to request the value you must declare the <span class="geshifilter"><code class="text geshifilter-text">root property</code></span> to be of a particular type. An example is below.</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">mask(SoftLayer_Hardware_Server).controlPanel</pre></div>
<p>If necessary, a property may be defined multiple times on the same level with different types.</p>
<p>The mask below is an example for invoking SoftLayer_Search::search with two expected data types to be returned:</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">mask
[
    resource(SoftLayer_Hardware)
    [
        id,
        fullyQualifiedDomainName,
        datacenter.longName,
        networkComponents.primaryIpAddress
    ],
    resource(SoftLayer_Virtual_Guest)
    [
        id,
        fullyQualifiedDomainName,
        datacenter.longName,
        networkComponents.primaryIpAddress
    ]
]</pre></div>
<h2 id="Syntax">Syntax</h2>
<p><a href="/sites/default/files/syntax.png" class="inline-image-link" title="View: syntax.png"><img src="http://sldn.softlayer.com/sites/default/files/imagecache/blog/syntax.png" alt="syntax.png" title="syntax.png" width="700" height="700" class="inline"/></a></p>
<h2 id="API_interaction">API interaction</h2>
<h3 id="SOAP">SOAP</h3>
<p>To send the object mask to the SOAP API you will need to provide a <span class="geshifilter"><code class="text geshifilter-text">SoftLayer_ObjectMask</code></span> header with the string object mask for the value in the <span class="geshifilter"><code class="text geshifilter-text">mask</code></span> property of the header.</p>
<h3 id="XML-RPC">XML-RPC</h3>
<p>The same SoftLayer_ObjectMask header may be provided in the XML-RPC headers section of the request.</p>
<h3 id="REST">REST</h3>
<p>The REST interface will accept the object mask via the <span class="geshifilter"><code class="text geshifilter-text">objectMask</code></span> GET parameter.</p>
<p>Our SLAPI bindings found in our github projects have been updated to support this new form of string object mask.</p>
<h2 id="Legacy_Object_Masks_"> Legacy Object Masks </h2>
<p>Please see <a href="/article/Legacy-Object-Masks">Legacy-Object-Masks</a> for usage information on the legacy object mask syntax</p>
<div class="flagger">
					<span class="flaggertitle">Was this helpful?</span>
					<div class="flaggeroption"><a id="flaggeryes" href="#">Yes</a></div>
					<div class="flaggeroption"><a id="flaggerno" href="#">No</a></div>
					<form id="flaggerform" method="post">
					<div style="display:none;" class="flaggermessage">Thank you! If you'd like to leave a comment, please use the form below: <div class="flaggercomment"><textarea class="flaggertext" name="flaggertext"></textarea><input type="submit" class="submit" id="flaggersubmit" value="Submit" /></div></div><div style="display:none" class="flaggersuccess">Your comment has been submitted! Thank you for your feedback.</div>
					</form>
				</div>
				<div id="flaggerget" style="display:none;"></div>
				<div id="flaggernode" style="display:none;">268795</div></div>
  <div class="clear-block clear"></div>

      <div class="links"><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>
  
</div>
 
                                        </div><!-- /inner-content -->
          </div><!-- /squeeze-content -->
        </div><!-- /squeeze -->
      </div><!-- /main -->
          </div><!-- /middle-container -->
    <div style="clear:both"></div>
            <div id="footer">
              <div id="footer-region">  <div class="block block-block" id="block-block-3">
    <div class="content"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22553883-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></div></div>
</div>
                  
      &copy; 2013 SoftLayer Technologies, Inc. All rights reserved.
    </div><!-- /footer -->
  <div style="clear:both"></div>
  <script type="text/javascript" src="/sites/all/modules/jquery_update/replace/jquery.min.js?s"></script>
<script type="text/javascript" src="/misc/drupal.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/apachesolr_autocomplete/apachesolr_autocomplete.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/apachesolr_autocomplete/jquery-autocomplete/jquery.autocomplete.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/dhtml_menu/dhtml_menu.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/panels/js/panels.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/jquery.scrollTo-min.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/jquery.localscroll-min.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/tableofcontents.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/flagger/js/flagger.js?s"></script>
<script type="text/javascript" src="/misc/collapse.js?s"></script>
<script type="text/javascript" src="/misc/tableheader.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/views/js/base.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/views/js/ajax_view.js?s"></script>
<script type="text/javascript" src="/sites/all/themes/softlayer/js/jquery.pngFix.js?s"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "apachesolr_autocomplete": { "path": "/apachesolr_autocomplete" }, "dhtmlMenu": { "slide": "slide", "clone": "clone" }, "views": { "ajax_path": "/views/ajax", "ajaxViews": [ { "view_name": "Key_Articles", "view_display_id": "block_2", "view_args": "", "view_path": "node/268795", "view_base_path": "articles", "view_dom_id": 1, "pager_element": 0 } ] } });
//--><!]]>
</script>
    </div> <!-- /page -->
</body>
</html>
