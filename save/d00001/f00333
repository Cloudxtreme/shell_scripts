<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Feature #11331: Add &#x27;foreach&#x27; structure in manifests - Puppet - Puppet Labs</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta content="authenticity_token" name="csrf-param" />
<meta content="ppg0+/F+JiwQSn3Yno8blG0t0KAc22CYgRoYQOfK0qQ=" name="csrf-token" />
<link rel='shortcut icon' href='/favicon.ico?1363307366' />
<link href="/stylesheets/jquery/jquery-ui-1.8.21.css?1357934870" media="all" rel="stylesheet" type="text/css" />
<link href="/themes/puppetlabs_redmine_theme/stylesheets/application.css?1358972821" media="all" rel="stylesheet" type="text/css" />

<script src="/javascripts/jquery-1.7.2-ui-1.8.21-ujs-2.0.3.js?1357934870" type="text/javascript"></script>
<script src="/javascripts/application.js?1357934870" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<link href="/plugin_assets/redmine_vote/stylesheets/stylesheet.css?1358364479" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->
    <link href="http://projects.puppetlabs.com/issues/11331.atom" rel="alternate" title="Puppet - Feature #11331: Add &#x27;foreach&#x27; structure in manifests" type="application/atom+xml" />
<script src="/javascripts/context_menu.js?1357934869" type="text/javascript"></script><link href="/stylesheets/context_menu.css?1357934869" media="screen" rel="stylesheet" type="text/css" /></head>
<body class="theme-Puppetlabs redmine theme controller-issues action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="/login" class="login">Sign in</a></li>
<li><a href="/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="http://puppetlabs.com" class="puppetlabs">Puppet Labs Site</a></li>
<li><a href="http://docs.puppetlabs.com" class="documentation">Documentation</a></li>
<li><a href="http://www.puppetlabs.com/resources/customer-support" class="support">Support</a></li>
<li><a href="http://www.puppetlabs.com/company/#contact" class="contact">Contact Us</a></li>
<li><a href="http://www.puppetlabs.com/resources/downloads" class="download">Download</a></li>
<li><a href="/" class="home">Home</a></li>
<li><a href="/projects" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    <div id="quick-search">
        <form accept-charset="UTF-8" action="/projects/puppet/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
        <input name="issues" type="hidden" value="1" />
        <label for='q'>
          <a href="/projects/puppet/search" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
</form>        
    </div>

    <h1>Puppet</h1>

    <div id="main-menu">
        <ul><li><a href="/projects/puppet" class="overview">Overview</a></li>
<li><a href="/projects/puppet/activity" class="activity">Activity</a></li>
<li><a href="/projects/puppet/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="/projects/puppet/issues" class="issues selected">Issues</a></li>
<li><a href="/projects/puppet/wiki" class="wiki">Wiki</a></li></ul>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>
<a href="/projects/puppet/issues?set_filter=1">View all issues</a><br />
<a href="/projects/puppet/issues/report">Summary</a><br />




<h3>Custom queries</h3><a href="/projects/puppet/issues?query_id=272" class="query">Accepted but Unowned - Patches Welcome!</a><br /><a href="/projects/puppet/issues?query_id=95" class="query">All tickets</a><br /><a href="/projects/puppet/issues?query_id=289" class="query">Backlog Query</a><br /><a href="/projects/puppet/issues?query_id=98" class="query">Open cron issues</a><br /><a href="/projects/puppet/issues?query_id=304" class="query">Platform Report - 2 Week Activity</a><br /><a href="/projects/puppet/issues?query_id=199" class="query">Puppet Solaris issues</a><br /><a href="/projects/puppet/issues?query_id=107" class="query">Ruby 1.9 Issues</a><br /><a href="/projects/puppet/issues?query_id=145" class="query">Support Customer Tickets</a><br /><a href="/projects/puppet/issues?query_id=177" class="query">Support Tickets</a><br /><a href="/projects/puppet/issues?query_id=262" class="query">Telly Deprecations</a><br /><a href="/projects/puppet/issues?query_id=176" class="query">Tickets - Assigned to Me</a><br /><a href="/projects/puppet/issues?query_id=131" class="query">Tickets - Authored by Me</a><br /><a href="/projects/puppet/issues?query_id=173" class="query">Tickets - By Priority</a><br /><a href="/projects/puppet/issues?query_id=64" class="query">Tickets - In Topic Branch Pending Review</a><br /><a href="/projects/puppet/issues?query_id=147" class="query">Tickets - Top by votes</a><br /><a href="/projects/puppet/issues?query_id=29" class="query">Tickets - Unassigned to a target release</a><br /><a href="/projects/puppet/issues?query_id=19" class="query">Tickets - Unreviewed</a><br /><a href="/projects/puppet/issues?query_id=198" class="query">Tickets - unreviewed and outside SLA</a><br /><a href="/projects/puppet/issues?query_id=208" class="query">Tickets - waiting for action</a><br /><a href="/projects/puppet/issues?query_id=201" class="query">Tickets with simple fixes</a>



    <div id="watchers">
      
<h3>Watchers (15)</h3>

<ul><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/91f5b9aca6a724eb2997b2c7e94c1055?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/1538" class="user active">Dean Wilson</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/2921" class="user active">Henrik Lindberg</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/4c2e5664219b5101805803cc73e5668d?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/3299" class="user active">Nicolas Vigier</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/ef14b7b705e5580cb42d78f0a7fa9238?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/171" class="user active">Peter Meier</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/8ee6cef02f57ffd669afb30256eb48a9?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/4016" class="user active">Jens Bräuer</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/e64601125c9c9cbeb0d84211866ac09b?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/2507" class="user active">Randall Hansen</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/702c996f0e78f2ebb05b927b115fa22b?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/380" class="user active">Nigel Kersten</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/6094658f2aaf855ab9f330a08e12cf93?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/211" class="user active">Brice Figureau</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/1a5c834208a336deb5c56b95e843ee6c?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/1865" class="user active">Tom De Vylder</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/560785b80dbf9b35fcac5a7dbd6cdaf3?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/404" class="user active">Marc Fournier</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/971aa8cf5bbc83a1d0e6aa7d013a4e79?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/5815" class="user active">J.D. Welch</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/305a4bfb6b45140bef128b163da7da29?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/940" class="user active">Richard Clamp</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/a62c3a5378c16611c97c2bc8e77ed954?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/6398" class="user active">Todd Eddy</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/223d92b97c56f27705e5abfd71844011?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/398" class="user active">Sean Millichamp</a></li><li><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/c6791ad5c4ab816452541396190513f0?rating=PG&amp;size=16&amp;default=" ssl="false" title="" /><a href="/users/6563" class="user active">Poul H. Sørensen</a></li></ul>

    </div>

        
    </div>

    <div id="content">
        
        <div class="contextual">


<span class="issue-11331-watcher"></span>


</div>


<h2>Feature #11331</h2>

<div class="issue status-5 priority-7 priority-highest closed parent details">

  <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/a2765a57c0fe546f6988f542854d963a?rating=PG&amp;size=50&amp;default=" ssl="false" title="" />

<div class="subject">
<div><h3>Add &#x27;foreach&#x27; structure in manifests</h3></div>
</div>
        <p class="author">
        Added by <a href="/users/2995" class="user active">Steve Shipway</a> <a href="/projects/puppet/activity?from=2011-12-12" title="12/11/2011 06:40 pm">over 1 year</a> ago.
        Updated <a href="/projects/puppet/activity?from=2013-04-18" title="04/18/2013 03:29 pm">4 months</a> ago.
        </p>

<table class="attributes">
<tr><th class="status">Status:</th><td class="status">Closed</td><th class="start-date">Start date:</th><td class="start-date"></td></tr><tr><th class="priority">Priority:</th><td class="priority">Immediate</td><th class="due-date">Due date:</th><td class="due-date"></td></tr><tr><th class="assigned-to">Assignee:</th><td class="assigned-to"><img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/971aa8cf5bbc83a1d0e6aa7d013a4e79?rating=PG&amp;size=14&amp;default=" ssl="false" title="" /><a href="/users/5815" class="user active">J.D. Welch</a></td><th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td></tr><tr><th class="category">Category:</th><td class="category">language</td><th></th><td></td></tr><tr><th class="fixed-version">Target version:</th><td class="fixed-version"><a href="/versions/371">3.2.0</a></td><th></th><td></td></tr>
<tr>
	<th>Affected Puppet version:</th><td></td>
	<th>Branch:</th><td>https://github.com/puppetlabs/puppet/pull/1435</td>
</tr>
<tr>
	<th>Keywords:</th><td>ux backlog</td>
</tr>

    <tr><td><b>




    </td></tr>

</table>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>I doubt this would be simple to do, but it would be very useful to be able to do something like this:</p>

<pre><code>$variable = [ 'a', 'b', 'c' ]
foreach $loop $variable {
  file { "/tmp/$loop": content=&gt;"I am file $loop"; }
}
</code></pre>

<p>While it is already possible to use an array as a namevar to get something similar, it doesnt allow you to have calculated parameters as well.</p>

<p>This would not be expected to break the declarative nature of puppet, though it would bring in a new variable scope in the loop.</p>

<p>Using a define with an array for the namevar would work provided the top level could not be called multiple times.</p>

<p>We want to have something like this:</p>

<pre><code>define firewall($users,$port) {
  iptables::open { $users: port=&gt;$port; }
}
node foo {
  $webusers = [ 'fred', 'sid' ]
  $sshusers = [ 'fred', 'joe' ]
  firewall { port80: users=&gt;$webusers, port=&gt;80; }
  firewall { port22: users=&gt;$sshusers, port=&gt;22; }
}
</code></pre>

<p>This example would fail because the iptables::open define is called with user &lsquo;fred&rsquo; two times (although with a different port parameter).  If we could instead have a foreach iteration then something like this would be useable:</p>

<pre><code>define firewall($users,$port) {
  foreach $users {
    iptables::open { "$loop:$port": user=&gt;$loop, port=&gt;$port; }
  }
}
</code></pre>

<p>This would ensure a unique namevar for iptables::open.  We would also be able to do things like initialise an array of users with different metadata parameters (eg, their full names pulled form LDAP)</p>

  </div>
</div>




<hr />
<div id="issue_tree">
<div class="contextual">
  
</div>
<p><strong>Subtasks</strong></p>
<form><table class="list issues"><tr class="issue issue-18764 hascontextmenu"><td class="checkbox"><input name="ids[]" type="checkbox" value="18764" /></td><td class="subject"><a href="/issues/18764" class="issue status-5 priority-7 priority-highest closed child">Feature #18764</a>: Add support for enumerable methods/functions</td><td>Closed</td><td></td><td><table class="progress" style="width: 80px;"><tr><td class="todo" style="width: 100%;"></td></tr></table><p class="pourcent"></p></td></tr></table></form>
</div>


</div>


<div id="history">
<h3>History</h3>
  <div id="change-47892" class="journal has-notes has-details">
    <div id="note-1">
    <h4><a href="/issues/11331#note-1" class="journal-link">#1</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/31ae65092221467161ded048032f40cd?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/366" class="user active">Daniel Pittman</a> <a href="/projects/puppet/activity?from=2011-12-12" title="12/12/2011 03:45 pm">over 1 year</a> ago</h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Unreviewed</i> to <i>Needs Decision</i></li>
       <li><strong>Assignee</strong> set to <i>Randall Hansen</i></li>
    </ul>
    <div class="wiki" id="journal-47892-notes"><p>I am certain this is a duplicate of another ticket, but I can&rsquo;t locate it.</p>

<p>This is a common, and fairly valid request, but I would strongly prefer something that modelled the semantics of creating, and applying, an anonymous define on an array instead of an explicit &ldquo;loop&rdquo; construct in the language.</p>

<p>That &ldquo;expansion&rdquo; model rather than looping is more declarative, and more in keeping with the desires we have for the language long term.</p>

<p>Randall, ultimately this is your baby, along with other DSL work.  Can you take ownership of it and, ideally, merge it with the ticket I couldn&rsquo;t find?</p>
</div>
    </div>
  </div>
  
  <div id="change-72631" class="journal has-details">
    <div id="note-2">
    <h4><a href="/issues/11331#note-2" class="journal-link">#2</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/e64601125c9c9cbeb0d84211866ac09b?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2507" class="user active">Randall Hansen</a> <a href="/projects/puppet/activity?from=2012-10-04" title="10/04/2012 02:35 pm">11 months</a> ago</h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Randall Hansen</i> to <i>J.D. Welch</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-73175" class="journal has-notes has-details">
    <div id="note-3">
    <h4><a href="/issues/11331#note-3" class="journal-link">#3</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2012-10-10" title="10/10/2012 02:41 pm">11 months</a> ago</h4>

    <ul class="details">
       <li><strong>Keywords</strong> changed from <i>foreach 
language
</i> to <i>foreach 
language
collections</i></li>
    </ul>
    <div class="wiki" id="journal-73175-notes"><p>This is part of a larger theme: collections &ndash; added a keyword.</p>
</div>
    </div>
  </div>
  
  <div id="change-74221" class="journal has-details">
    <div id="note-4">
    <h4><a href="/issues/11331#note-4" class="journal-link">#4</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/971aa8cf5bbc83a1d0e6aa7d013a4e79?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/5815" class="user active">J.D. Welch</a> <a href="/projects/puppet/activity?from=2012-10-18" title="10/18/2012 02:29 pm">10 months</a> ago</h4>

    <ul class="details">
       <li><strong>Keywords</strong> changed from <i>foreach 
language
collections</i> to <i>foreach 
language
collections
dsl
backlog</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-74235" class="journal has-details">
    <div id="note-5">
    <h4><a href="/issues/11331#note-5" class="journal-link">#5</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/971aa8cf5bbc83a1d0e6aa7d013a4e79?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/5815" class="user active">J.D. Welch</a> <a href="/projects/puppet/activity?from=2012-10-18" title="10/18/2012 02:32 pm">10 months</a> ago</h4>

    <ul class="details">
       <li><strong>Keywords</strong> changed from <i>foreach 
language
collections
dsl
backlog</i> to <i>backlog</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-74370" class="journal has-details">
    <div id="note-6">
    <h4><a href="/issues/11331#note-6" class="journal-link">#6</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/7f7fe07c6402a15a4888c3ba00efca45?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/693" class="user active">eric sorenson</a> <a href="/projects/puppet/activity?from=2012-10-19" title="10/19/2012 09:17 am">10 months</a> ago</h4>

    <ul class="details">
       <li><strong>Keywords</strong> changed from <i>backlog</i> to <i>ux</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-80948" class="journal has-details">
    <div id="note-7">
    <h4><a href="/issues/11331#note-7" class="journal-link">#7</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/7f7fe07c6402a15a4888c3ba00efca45?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/693" class="user active">eric sorenson</a> <a href="/projects/puppet/activity?from=2013-01-11" title="01/10/2013 04:19 pm">8 months</a> ago</h4>

    <ul class="details">
       <li><strong>Priority</strong> changed from <i>Normal</i> to <i>High</i></li>
       <li><strong>Target version</strong> set to <i>3.x</i></li>
       <li><strong>Keywords</strong> changed from <i>ux</i> to <i>ux backlog</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-80956" class="journal has-notes">
    <div id="note-8">
    <h4><a href="/issues/11331#note-8" class="journal-link">#8</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-11" title="01/10/2013 05:08 pm">8 months</a> ago</h4>

    <div class="wiki" id="journal-80956-notes"><p>I would like to see something like this:</p>

<pre>define firewall($users,$port) {
  foreach $users { |$u|
    iptables::open { "$u:$port": user=>$u, port=>$port; }
  }
}
</pre>


<p>i.e. that the loop variable needs to be declared (instead of always being a reserved variable name), and instead of being restricted to picking just one value at a time.</p>

<p>Picking more than one value is valuable when iterating over a hash &ndash; e.g.</p>

<pre>define firewall($a_hash) {
  foreach $a_hash { |$key, $value|
    ...
  }
</pre>


<p>Naturally, the foreach variables are not available outside of the foreach scope.</p>

<p>Also suggest that if only one variable is defined for hash, the key is applied. If more than one variable is used for an array, the loop picks more than one value per iteration (array must be of size % loop_variable_count == 0)</p>

<p>I think this would be unsurprising syntax for people used to lambdas in Ruby and other languages.</p>

<p>grammar could probably be something like</p>

<pre>
FOREACH rvalue { | parameters | statements } 
</pre>


<p>Thus allowing to iterate directly the result of a variable, function, or literal.</p>
</div>
    </div>
  </div>
  
  <div id="change-81071" class="journal has-notes">
    <div id="note-9">
    <h4><a href="/issues/11331#note-9" class="journal-link">#9</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/c7ff0fe7a67ef06a7717c0dde345acc7?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2866" class="user active">Josh Cooper</a> <a href="/projects/puppet/activity?from=2013-01-14" title="01/14/2013 03:06 pm">7 months</a> ago</h4>

    <div class="wiki" id="journal-81071-notes"><p><a href="http://backdrift.org/puppet-foreach-for-loop-workaround">http://backdrift.org/puppet-foreach-for-loop-workaround</a></p>
</div>
    </div>
  </div>
  
  <div id="change-81092" class="journal has-notes">
    <div id="note-10">
    <h4><a href="/issues/11331#note-10" class="journal-link">#10</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-15" title="01/14/2013 07:10 pm">7 months</a> ago</h4>

    <div class="wiki" id="journal-81092-notes"><p>Thought a bit more about this, and that it is also wanted to be able to perform other operations on collections. At the same time as the previously suggested syntax would be easy to implement, it also adds one keyword (<code>foreach</code>) &ndash; and if other similar operations are wanted (e.g. collect, exists, all, first, etc.) it becomes quite a problem.</p>

<p>Instead, I propose that foreach (and similar) are added as an expression on the form:
<code>expr . funcname { |parameters| statements }</code></p>

<p>Thus, the earlier example would be written:</p>

<pre>define firewall($users,$port) {
  $users.foreach { |$u|
    iptables::open { "$u:$port": user=>$u, port=>$port; }
  }
}
</pre>


<p>This is better because it does not interfere with any existing syntax, and does not introduce any new keywords. A first implementation can be hard wired to only support the forach function, but opens up for exploring additional functions, user supplied functions etc. (There are quite a few issues to deal with if the mechanism is generalized).</p>
</div>
    </div>
  </div>
  
  <div id="change-81504" class="journal has-notes">
    <div id="note-11">
    <h4><a href="/issues/11331#note-11" class="journal-link">#11</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-21" title="01/21/2013 09:16 am">7 months</a> ago</h4>

    <div class="wiki" id="journal-81504-notes"><p>This was much easier to implement that I first imagined. (Pull request coming soon).</p>

<p>By introducing a &ldquo;parameterized block&rdquo; (a Puppet::Parser::AST::Lambda) and some minor improvements to the ephemeral scope support I was able to quickly make progress on this.</p>

<p>The syntax for calling a &ldquo;method&rdquo; is:</p>

<pre>
lhs.funcname
lhs.funcname(<optional arguments>)
lhs.funcname {|...| ... }
lhs.funcname(<optional arguments>) {|...| ... }
</pre>


<p>This is equivalent to calling the same function with the lhs as the first parameter, and the lambda (if present) as the last argument). (This means any existing function can be called using this syntax &ndash; e.g:</p>

<pre>$a = $b.split('[.:]')
</pre>


<p>Support for foreach is then simply implemented as a function.</p>

<p>The syntax for the LAMBDA is:</p>

<pre>
{|<parameter_list>| <statements> }
{|<parameter_list>| = expression }
</pre>


<p>Although the later is not required for the foreach function, it is required to be able to support lambdas that function as predicates e.g.</p>

<pre> $b = $a.reject {|$x| = $x =~ /ugly/ }
</pre>


<p>The requirement to use a syntax marker (i.e. =) is a bit unfortunate, but it is currently not possible to support statements | expression without this marker unless a major refactoring is done of the grammar / evaluation as there are ambiguities between function calls with and without parentheses. It is also not possible to implement this as an eval function, since functions invokable as statements are not allowed to produce an rvalue. (The use of = to turn an expression into a statement is only allowed at the opening of a lambda, and this may later be made optional (when/if grammar is refactored).</p>

<p>The <parameter_list> supports default values, but if used, they must be at the end of the list as call is made &ldquo;by position&rdquo; and not &ldquo;by name&rdquo;.</p>

<p>The foreach function allows iterating array slices of 1 or more elements (i.e. pairs, triplets, etc). and a hash can be iterated over keys or keys and values. e.g:</p>

<pre>
$a = [1, present, 2, absent]
$a.foreach { |$x, $y| file ( "/file_$x: ensure => $y}

$a = {'1' => present, '2' => absent}
$a.foreach { |$x, $y| file ( "/file_$x: ensure => $y}

</pre>


<p>To produce /file_1 with ensure present, and /file_2 with ensure absent.</p>

<p>Other examples of iterating over hashes.</p>

<pre>
# iterate over keys
$a = {'1' => present, '2' => absent}
$a.foreach { |$x| file ( "/file_$x: ensure => present}

# access variable outside of lambda
$a = {'1' => present, '2' => absent}
$a.foreach { |$x| file ( "/file_$x: ensure => $a[$x]}
</pre>


<p>It is not allowed to use class, define, nor node-statements in the lambda, and variables that are assigned in the lambda are local and can not be referenced outside of the scope of the lambda (but they are visible to any nested inner lambdas). Lambda parameters shadow parameters with the same name in outer scopes.</p>

<p>Since the implementation makes it possible to easily add custom methods (i.e. done just like any other custom function), the implementation of lambda evaluation is also very simple. If passed a lambda it is evaluated by:</p>

<pre>
a_lambda.call(scope, *arguments)
</pre>


<p>A lambda has two additional useful methods <code>#parameter_count</code> and ´#optional_parameter_count`.</p>
</div>
    </div>
  </div>
  
  <div id="change-81511" class="journal has-notes">
    <div id="note-12">
    <h4><a href="/issues/11331#note-12" class="journal-link">#12</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-22" title="01/21/2013 04:56 pm">7 months</a> ago</h4>

    <div class="wiki" id="journal-81511-notes"><p>Also see <a href="/issues/18764" class="issue status-5 priority-7 priority-highest closed child" title="Add support for enumerable methods/functions (Closed)">#18764</a> for additional methods making use of lambda.</p>
</div>
    </div>
  </div>
  
  <div id="change-81512" class="journal has-notes has-details">
    <div id="note-13">
    <h4><a href="/issues/11331#note-13" class="journal-link">#13</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-22" title="01/21/2013 05:32 pm">7 months</a> ago</h4>

    <ul class="details">
       <li><strong>Branch</strong> set to <i>https://github.com/puppetlabs/puppet/pull/1420</i></li>
    </ul>
    <div class="wiki" id="journal-81512-notes"><p>The implementation is now ready for review.
There are some fixes required for Ruby 1.8.7, but what is in PL 1420 works on 1.9.3</p>

<p>The additional methods discussed in <a href="/issues/18764" class="issue status-5 priority-7 priority-highest closed child" title="Add support for enumerable methods/functions (Closed)">#18764</a> are currently available in https://github.com/hlindberg/puppet/tree/18764-enumerable-methods.</p>
</div>
    </div>
  </div>
  
  <div id="change-81513" class="journal has-notes">
    <div id="note-14">
    <h4><a href="/issues/11331#note-14" class="journal-link">#14</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/a2765a57c0fe546f6988f542854d963a?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2995" class="user active">Steve Shipway</a> <a href="/projects/puppet/activity?from=2013-01-22" title="01/21/2013 05:48 pm">7 months</a> ago</h4>

    <div class="wiki" id="journal-81513-notes"><p>Many thanks for your work on this feature, which will help us no end &mdash; once we fix our current modules to be v3.x compatible and we upgrade to v3 on our puppet server, of course.  The new syntax looks convenient and understandable, and more Ruby-ish (I&rsquo;m from a Perl background so my initial example was perl-ish)</p>
</div>
    </div>
  </div>
  
  <div id="change-81531" class="journal has-notes">
    <div id="note-15">
    <h4><a href="/issues/11331#note-15" class="journal-link">#15</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-22" title="01/22/2013 08:49 am">7 months</a> ago</h4>

    <div class="wiki" id="journal-81531-notes"><p>Pull request updated with code that works for Ruby 1.8.7 (seems that Array#zip produces different result under some conditions).</p>
</div>
    </div>
  </div>
  
  <div id="change-81891" class="journal has-notes">
    <div id="note-16">
    <h4><a href="/issues/11331#note-16" class="journal-link">#16</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-25" title="01/24/2013 04:30 pm">7 months</a> ago</h4>

    <div class="wiki" id="journal-81891-notes"><p>After some discussion on #puppet-dev an idea was raised that a more function call style (as opposed to method call style) may be more appreciated.
The pull request is now updated with this.</p>

<p>These are now equivalent:</p>

<pre>
$a.foreach {|$x| ... }
foreach($a) {|$x| ... }
</pre>


<p>It is still the same foreach function, only difference is in who gets to make the call (Function, or MethodCall).</p>
</div>
    </div>
  </div>
  
  <div id="change-82115" class="journal has-notes">
    <div id="note-17">
    <h4><a href="/issues/11331#note-17" class="journal-link">#17</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/6094658f2aaf855ab9f330a08e12cf93?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/211" class="user active">Brice Figureau</a> <a href="/projects/puppet/activity?from=2013-01-29" title="01/29/2013 10:38 am">7 months</a> ago</h4>

    <div class="wiki" id="journal-82115-notes"><p>Henrik Lindberg wrote:</p>

<blockquote><p>After some discussion on #puppet-dev an idea was raised that a more function call style (as opposed to method call style) may be more appreciated.
The pull request is now updated with this.</p>

<p>These are now equivalent:
[&hellip;]</p>

<p>It is still the same foreach function, only difference is in who gets to make the call (Function, or MethodCall).</p></blockquote>

<p>I didn&rsquo;t fully the development nor this ticket, but I really think the syntax should be a bit more distinct from ruby blocks. I mean puppet is a different language, and should always be (or we should all use the ruby dsl).</p>

<p>I&rsquo;d favor something like this that more closely looks like puppet code to me:</p>

<pre>
FOREACH rvalue { parameters => statements } 
</pre>


<p>Also, I&rsquo;m not sure I got the underlying reasons for the syntax with an expression instead of a statement (unless it is a requirement from the existing grammar and racc being fiddly). But if you could merge both syntax to my aforementioned example that&rsquo;d be perfect :)</p>
</div>
    </div>
  </div>
  
  <div id="change-82164" class="journal has-notes">
    <div id="note-18">
    <h4><a href="/issues/11331#note-18" class="journal-link">#18</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/31ae65092221467161ded048032f40cd?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/366" class="user active">Daniel Pittman</a> <a href="/projects/puppet/activity?from=2013-01-29" title="01/29/2013 02:41 pm">7 months</a> ago</h4>

    <div class="wiki" id="journal-82164-notes"><p>It would be really nasty to be limited to only a single expression in the loop body.  That still requires writing an explicit define for any non-trivial case, such as needing two resource specifications.</p>

<p>It would be much nicer to treat the whole thing like the &ldquo;use an array and a define&rdquo; expansion trick, so that you get the same capabilities as the current model &ndash; just a nicer syntax.</p>

<p>(I think the <code>foreach</code> name is a bit ugly, too, and would prefer something like <code>expand</code>, but whatever. :)</p>
</div>
    </div>
  </div>
  
  <div id="change-82165" class="journal has-notes">
    <div id="note-19">
    <h4><a href="/issues/11331#note-19" class="journal-link">#19</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-29" title="01/29/2013 02:55 pm">7 months</a> ago</h4>

    <div class="wiki" id="journal-82165-notes"><p>Brice Figureau wrote:</p>

<blockquote><p>Henrik Lindberg wrote:</p>

<blockquote><p>After some discussion on #puppet-dev an idea was raised that a more function call style (as opposed to method call style) may be more appreciated.
The pull request is now updated with this.</p>

<p>These are now equivalent:
[&hellip;]</p>

<p>It is still the same foreach function, only difference is in who gets to make the call (Function, or MethodCall).</p></blockquote>

<p>I didn&rsquo;t fully the development nor this ticket, but I really think the syntax should be a bit more distinct from ruby blocks. I mean puppet is a different language, and should always be (or we should all use the ruby dsl).</p>

<p>I&rsquo;d favor something like this that more closely looks like puppet code to me:</p></blockquote>

<pre>
FOREACH rvalue { parameters => statements } 
</pre>


<blockquote><p>Also, I&rsquo;m not sure I got the underlying reasons for the syntax with an expression instead of a statement (unless it is a requirement from the existing > grammar and racc being fiddly). But if you could merge both syntax to my aforementioned example that&rsquo;d be perfect :)</p></blockquote>

<p>To support the exact syntax you propose, FOREACH must be made into a keyword. The proposed implementation would require adding () around the parameters (or it becomes ambiguous).</p>

<pre>
FOREACH(rvalue) { parameters => statements}
</pre>


<p>There are additional difficulties with recognizing { $a => statements } as it is a potential conflict with hash (currently hash only allows NAME or quoted text, but there is no reason (other than obvious grammar conflicts) why it should not allow variable value. I am more or less convinced that a syntactic marker is needed to make the lambda part recognizable (which it is if FOREACH is made into a keyword).</p>

<p>IMO, making foreach into a keyword requires waiting to puppet 4 as it is a backwards incompatible change, and it is also neither extensible nor general. If it is ok to forever after not being able to evaluate a variable as a hash entry key, then the proposed syntax can be supported with the small change that the argument must be enclosed in parentheses.</p>

<p>Finally, the quirk in the current implementation (that a = is required before an expression lambda to turn it into a statement), can be removed when/if the grammar is transformed from being statement oriented to being expression oriented (this is exploratory work that I am doing right now with very promising results).</p>

<p>You are right that Puppet Language is not Ruby, but still, a concrete syntax has to be used, and Ruby happen to have one that fits very well. Whatever we do, the functor (&ldquo;foreach&rdquo;), the LHS value, what to pick (one or several things at a time), what to call these parameters, and then one or several statements/expressions are naturally needed whatever way we choose. Since I felt that stealing $ as the opening of a {} to mean it is a parameterized puppet block was stealing too much &ldquo;grammatical space&rdquo;,  I opted for a known syntax from Ruby as opposed to inventing something different.</p>

<p>I did consider placing the fat arrow first i.e. <code>{=&gt;parameters</code>, but that list need a terminator as the first statement may start with a variable, there are several to choose from `&lsquo;:&rsquo;, &lsquo;;&rsquo;, &lsquo;|&rsquo; &ndash; the one I considered the best of these were &lsquo;;&rsquo; as it has less of a tendency to cause confusion with &lsquo;::&rsquo; in qualified variables even if it would work technically &ndash; i.e. that would mean your example would look like this:</p>

<pre>
foreach(rvalue) { =>parameters; statements}
</pre>


<p>If you want to use a block without parameters you would have to do something like:</p>

<pre>
foreach(rvalue) { ; statements}
foreach(rvalue) { =>; statements}
foreach(rvalue) { => statements} # does not work as statements may start with variable
</pre>


<p>To be compared with what I propose:</p>

<pre>
foreach(rvalue) { |parameters| statements }
rvalue.foreach { |parameters| statements }

foreach(rvalue) { || statements }
rvalue.foreach { || statements }

</pre>


<p>I also considered placing the block parameters before the block but this leads to other clashes.</p>
</div>
    </div>
  </div>
  
  <div id="change-82166" class="journal has-notes">
    <div id="note-20">
    <h4><a href="/issues/11331#note-20" class="journal-link">#20</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-01-29" title="01/29/2013 03:10 pm">7 months</a> ago</h4>

    <div class="wiki" id="journal-82166-notes"><p>Daniel Pittman wrote:</p>

<blockquote><p>It would be really nasty to be limited to only a single expression in the loop body.  That still requires writing an explicit define for any non-trivial case, such as needing two resource specifications.</p></blockquote>

<p>The proposal allows multiple statements.</p>

<blockquote><p>It would be much nicer to treat the whole thing like the &ldquo;use an array and a define&rdquo; expansion trick, so that you get the same capabilities as the current model &ndash; just a nicer syntax.</p></blockquote>

<p>With the current proposal it would look like this (implies using a defined &lsquo;my_thing&rsquo;) . showing both proposed equivalent styles:</p>

<pre>
data.forearch  {|$x| my_thing { 'somename_$x': param_1 => $x }}
foreach(data)  {|$x| my_thing { 'somename_$x': param_1 => $x }}
</pre>


<blockquote><p>(I think the <code>foreach</code> name is a bit ugly, too, and would prefer something like <code>expand</code>, but whatever. :)</p></blockquote>

<p>&ldquo;foreach&rdquo; is not my favorite either, that is probably the easiest thing of them all to change and at the same time be what will take the longest to decide :)</p>

<p>How would you like to see the &ldquo;expand&rdquo; taking place; how would you specify what to map from LHS structure (array or hash) onto a define, what if you want/need to make a transformation, would you have to write another define for that? (i.e. comparable to being able to map to only named functions as opposed to mapping to unnamed lambdas).</p>
</div>
    </div>
  </div>
  
  <div id="change-82529" class="journal has-details">
    <div id="note-21">
    <h4><a href="/issues/11331#note-21" class="journal-link">#21</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/7f7fe07c6402a15a4888c3ba00efca45?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/693" class="user active">eric sorenson</a> <a href="/projects/puppet/activity?from=2013-02-05" title="02/05/2013 06:34 am">7 months</a> ago</h4>

    <ul class="details">
       <li><strong>Priority</strong> changed from <i>High</i> to <i>Immediate</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-83559" class="journal has-notes">
    <div id="note-22">
    <h4><a href="/issues/11331#note-22" class="journal-link">#22</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-02-19" title="02/19/2013 03:25 pm">6 months</a> ago</h4>

    <div class="wiki" id="journal-83559-notes"><p>The proposal for this issue is now found <a href="https://github.com/puppetlabs/armatures/blob/master/arm-2.iteration/index.md">here</a></p>
</div>
    </div>
  </div>
  
  <div id="change-83920" class="journal has-notes">
    <div id="note-23">
    <h4><a href="/issues/11331#note-23" class="journal-link">#23</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/c6791ad5c4ab816452541396190513f0?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/6563" class="user active">Poul H. Sørensen</a> <a href="/projects/puppet/activity?from=2013-02-25" title="02/25/2013 08:23 am">6 months</a> ago</h4>

    <div class="wiki" id="journal-83920-notes"><p>I think that &ldquo;.foreach&rdquo; is way too &ldquo;programmatic&rdquo;.
I suggest &ldquo;.each&rdquo; or &ldquo;.list&rdquo; as in:</p>

<pre><code># either:
data.each { |$x| thing { 'somename_$x': param_1 =&gt; $x }}
# or:
data.list { |$x| thing { 'somename_$x': param_1 =&gt; $x }}
</code></pre>

<p>This page http://template-toolkit.org/docs/manual/VMethods.html is worth a glance &ndash; you may steal some ideas&hellip;</p>
</div>
    </div>
  </div>
  
  <div id="change-83926" class="journal has-notes">
    <div id="note-24">
    <h4><a href="/issues/11331#note-24" class="journal-link">#24</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/52e653caac881b973a60a6c23d416089?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/2921" class="user active">Henrik Lindberg</a> <a href="/projects/puppet/activity?from=2013-02-25" title="02/25/2013 09:40 am">6 months</a> ago</h4>

    <div class="wiki" id="journal-83926-notes"><p>Based on other conversations as well; using <code>each</code> do seem to be favored over <code>foreach</code>.</p>
</div>
    </div>
  </div>
  
  <div id="change-87568" class="journal has-notes">
    <div id="note-25">
    <h4><a href="/issues/11331#note-25" class="journal-link">#25</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/36ccf398adbe1a4264d57b32917b990c?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/4316" class="user active">Andrew Parker</a> <a href="/projects/puppet/activity?from=2013-03-25" title="03/25/2013 03:59 pm">5 months</a> ago</h4>

    <div class="wiki" id="journal-87568-notes"><p>Support for rgen, which is needed for the prototype of this, was merged in <a href="https://github.com/puppetlabs/puppet/commit/493e9208b77feb2d2b3931a694c39c98dfef8b00">493e9208b77feb2d2b3931a694c39c98dfef8b00</a>.</p>
</div>
    </div>
  </div>
  
  <div id="change-87569" class="journal has-notes has-details">
    <div id="note-26">
    <h4><a href="/issues/11331#note-26" class="journal-link">#26</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/36ccf398adbe1a4264d57b32917b990c?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/4316" class="user active">Andrew Parker</a> <a href="/projects/puppet/activity?from=2013-03-25" title="03/25/2013 04:02 pm">5 months</a> ago</h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Needs Decision</i> to <i>In Topic Branch Pending Review</i></li>
       <li><strong>Branch</strong> changed from <i>https://github.com/puppetlabs/puppet/pull/1420</i> to <i>https://github.com/puppetlabs/puppet/pull/1435</i></li>
    </ul>
    <div class="wiki" id="journal-87569-notes"><p>There is a new PR that implements the various proposals. The current plan is to get this merged in as an optional feature for puppet 3.2</p>
</div>
    </div>
  </div>
  
  <div id="change-88356" class="journal has-notes has-details">
    <div id="note-27">
    <h4><a href="/issues/11331#note-27" class="journal-link">#27</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/36ccf398adbe1a4264d57b32917b990c?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/4316" class="user active">Andrew Parker</a> <a href="/projects/puppet/activity?from=2013-04-05" title="04/05/2013 04:19 pm">5 months</a> ago</h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>In Topic Branch Pending Review</i> to <i>Merged - Pending Release</i></li>
       <li><strong>Target version</strong> changed from <i>3.x</i> to <i>3.2.0</i></li>
    </ul>
    <div class="wiki" id="journal-88356-notes"><p>The experimental parse has been merged into master in <a href="https://github.com/puppetlabs/puppet/commit/c8182d68ff179956efc34dc8d0f79084582aa6f3">https://github.com/puppetlabs/puppet/commit/c8182d68ff179956efc34dc8d0f79084582aa6f3</a>. Note that this is not complete.</p>
</div>
    </div>
  </div>
  
  <div id="change-89468" class="journal has-notes has-details">
    <div id="note-28">
    <h4><a href="/issues/11331#note-28" class="journal-link">#28</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/aafd0d5beaa872e15092084e9bab49c9?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/3206" class="user active">Matthaus Owens</a> <a href="/projects/puppet/activity?from=2013-04-18" title="04/18/2013 03:17 pm">4 months</a> ago</h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Merged - Pending Release</i> to <i>Closed</i></li>
    </ul>
    <div class="wiki" id="journal-89468-notes"><p>Released in Puppet 3.2.0-rc1</p>
</div>
    </div>
  </div>
  
  <div id="change-89531" class="journal has-notes">
    <div id="note-29">
    <h4><a href="/issues/11331#note-29" class="journal-link">#29</a>
    <img alt="" class="gravatar" default="" rating="PG" src="http://www.gravatar.com/avatar/aafd0d5beaa872e15092084e9bab49c9?rating=PG&amp;size=24&amp;default=" ssl="false" title="" />
    Updated by <a href="/users/3206" class="user active">Matthaus Owens</a> <a href="/projects/puppet/activity?from=2013-04-18" title="04/18/2013 03:18 pm">4 months</a> ago</h4>

    <div class="wiki" id="journal-89531-notes"><p>Released in Puppet 3.2.0-rc1</p>
</div>
    </div>
  </div>
  


</div>


<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-11331-watcher"></span>


</div>


<div style="clear: both;"></div>

<p class="other-formats">Also available in:  <span><a href="/issues/11331.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="/issues/11331.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>



<script type="text/javascript">
//<![CDATA[
contextMenuInit('/issues/context_menu')
//]]>
</script>

        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>
<script src="/javascripts/leadcapture.js?1328214688" type="text/javascript"></script>

<!-- BEGIN: MARKETO TRACKING -->
    <script src="https://munchkin.marketo.net/munchkin.js
type="text/javascript"></script>
<script>mktoMunchkin("307-QLA-991");</script>
 <!-- END: MARKETO TRACKING --> <!-- Begin Google Analytics Asynch-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1537572-5']);
  _gaq.push(['_setDomainName', 'puppetlabs.com']);
  _gaq.push(['_addIgnoredRef', 'puppetlabs.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  <!-- End Google Analytics -->

</body>
</html>
