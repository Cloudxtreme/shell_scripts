<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>jfryman/nginx/0.0.5 Â· Puppet Forge</title>
    <link rel="stylesheet" href="/styles/application.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="/scripts/modernizr.js"></script>

    <script src="//munchkin.marketo.net/munchkin.js" type="text/javascript"></script>

    <script src="/scripts/leadcapture.js"></script>

    <script type="text/javascript">
      mktoMunchkin("307-QLA-991");

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1537572-5']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
      })();

      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '50a02411613f5d682f0000c1');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
  </head>
  <body>
    <section id="masthead">
      <div class="site-width">
      <ul>
        <li class="colon-after"><a href="http://www.puppetlabs.com">Puppet Labs</a></li>
        <li><a href="http://puppetlabs.com/puppet/puppet-open-source/">Open Source Projects</a></li>
        <li><a href="http://puppetlabs.com/services/customer-support/">Support</a></li>
        <li><a href="http://docs.puppetlabs.com/">Docs</a></li>
        <li><a href="http://projects.puppetlabs.com/">Bugs</a></li>
      </ul>
      </div>
    </section>
    <section id="header">
       <div class="site-width clearfix">
      <a href="/">
        <img src="/images/forge-logo.png" class="logo" width="214px" height="50px" alt="Puppet Forge Home">
      </a>
      
      <div class="stats">
        <span class="first">
          <span class="big">1,413</span> modules
        </span>
        <span>
          <span class="big">1,296,575</span> downloads
        </span>
      </div>
      </div>
    </section>
    <section id="content">
      <div class="site-width clearfix">
        <section id="body">
          <table id="modulepage-title">
  <tr>
    <td>
      <h2><a href="/jfryman">jfryman</a>/<a href="/jfryman/nginx">nginx</a>/0.0.5</h2>
    </td>
    <td id="author-admin-links">
    </td>
  </tr>
</table>

<section class="module header">
  <section class="details">
    <table>
      <tr>
        <td class="gravatar">
          <img class="avatar" alt="avatar" src="//gravatar.com/avatar/d4be9b0fd15ec79f4448ae4efe024086.png?r=PG&amp;s=45" />
        </td>
        <td class="module-info-basic">
          <div class="module-info-author">
            Author: <a href="/jfryman">James Fryman</a>
          </div>

          <div class="module-info-issues">
            <span>Links:</span>
            <ul class="pipe-separated tags"><li><a href="https://github.com/jfryman/puppet-nginx">Project URL</a></li>
              <li><a href="https://github.com/jfryman/puppet-nginx/issues">Report issues</a></li>
            </ul>
          </div>

            <div class="module-info-tags">
              <span>Tags:</span>
              <ul class="comma-separated tags">
                <li><a href="/tags/rack" title="Tagged &quot;rack&quot;">rack</a></li>
                <li><a href="/tags/proxy" title="Tagged &quot;proxy&quot;">proxy</a></li>
                <li><a href="/tags/https" title="Tagged &quot;https&quot;">https</a></li>
                <li><a href="/tags/http" title="Tagged &quot;http&quot;">http</a></li>
                <li><a href="/tags/nginx" title="Tagged &quot;nginx&quot;">nginx</a></li>
              </ul>
            </div>
        </td>
        <td class="module-info-releases">
          <div>
            <ul>
              <li>
                
                Release:
                <a href="/jfryman/nginx/0.0.5">
                  0.0.5
                </a>
              </li>
              <li>
                Release date: Aug 25, 2013
              </li>
              <li>
                
                Downloads of this release:
                4
              </li>
              <li class="releases-dropdown">
                Other releases:
                <select onchange="window.location=this.value">
                  <optgroup label="Latest version">
                    <option  value="/jfryman/nginx/0.0.5">0.0.5</option>
                  </optgroup>
                  <optgroup label="Other versions">
                    <option  value="/jfryman/nginx/0.0.4">0.0.4</option>
                    <option  value="/jfryman/nginx/0.0.3">0.0.3</option>
                    <option  value="/jfryman/nginx/0.0.2">0.0.2</option>
                  </optgroup>
                </select>
              </li>
            </ul>
          </div>
        </td>
      </tr>
    </table>
  </section>
    <div class="installation">
      <h3>How to Install</h3>
      <div class="pmt-option">
        <span>Run this code on your puppet node using the Puppet Module Tool:</span>
        <input type="text" class="paste-code" value="puppet module install jfryman/nginx --version 0.0.5" onclick="this.select()"/>
        <small>The Puppet Module Tool is available in Puppet 2.7.14+ and Puppet Enterprise 2.5+ <a href="http://docs.puppetlabs.com/puppet/2.7/reference/modules_installing.html">Read about installing modules</a></small>
      </div>
      Or: <a href="/jfryman/nginx/0.0.5.tar.gz">Download as a .tar.gz</a>
    </div>

</section>


<section class="module-meta-info">
  <script>
    function switchTab(name) {
      $('.subnav-tabs .link-tab[name!=' + name + ']').removeClass('selected');
      $('.subnav-tabs .link-tab[name=' + name + ']').addClass('selected');
      $('.tabbed-content > .section[name!=' + name + ']').css({display:'none'});
      $('.tabbed-content > .section[name=' + name + ']').css({display:'block'});
      return false;
    }
  </script>
  <div class="tabbed-nav">
    <ul class="subnav-tabs">
      <li><a href="#" onclick="return switchTab(this.name)" name="readme" class="link-tab">README</a></li>
      <li><a href="#" onclick="return switchTab(this.name)" name="dependencies" class="link-tab">Dependencies</a></li>
      <li><a href="#" onclick="return switchTab(this.name)" name="license" class="link-tab">License</a></li>
    </ul>
  </div>

  <div class="tabbed-content">
        <div name="readme" class="section" style="display: none;">
          <section class="markdown"><h1>NGINX Module</h1>

<p>James Fryman <a href="mailto:james@frymanet.com">james@frymanet.com</a></p>

<p>This module manages NGINX from within Puppet.</p>

<h1>Quick Start</h1>

<p>Install and bootstrap an NGINX instance</p>

<pre>
    node default {
      class { 'nginx': }
    }
</pre>

<p>Setup a new virtual host</p>

<pre>
    node default {
      class { 'nginx': }
      nginx::resource::vhost { 'www.puppetlabs.com':
        ensure   => present,
        www_root => '/var/www/www.puppetlabs.com',
      }
    }
</pre>

<p>Add a Proxy Server(s)</p>

<pre>
   node default {
     class { 'nginx': }
     nginx::resource::upstream { 'puppet_rack_app':
       ensure  => present,
       members => [
         'localhost:3000', 
         'localhost:3001',
         'localhost:3002',
       ],
     }

     nginx::resource::vhost { 'rack.puppetlabs.com':
       ensure   => present,
       proxy  => 'http://puppet_rack_app',
     }
   } 
</pre>

<p>Add an smtp proxy</p>

<pre>
   node default {
     class { 'nginx':
       mail => true,
     }
     nginx::resource::mailhost { 'domain1.example':
       ensure      => present,
       auth_http   => 'server2.example/cgi-bin/auth',
       protocol    => 'smtp',
       listen_port => 587,
       ssl_port    => 465,
       starttls    => 'only',
       xclient     => 'off',
       ssl         => 'true',
       ssl_cert    => '/tmp/server.crt',
       ssl_key     => '/tmp/server.pem',
     }
   }
</pre>

<h1>Hiera Support</h1>

<p>Define the nginx resources in Hiera. Here are the examples:</p>

<pre>
nginx::nginx_upstreams:
  'puppet_rack_app':
    ensure: present
    members:
      - localhost:3000
      - localhost:3001
      - localhost:3002 
nginx::nginx_vhosts:
  'www.puppetlabs.com':
    www_root: '/var/www/www.puppetlabs.com'
  'rack.puppetlabs.com':
    ensure: present
    proxy: 'http://puppet_rack_app'
nginx::nginx_locations:
  'static':
    location: '~ "^/static/[0-9a-fA-F]{8}\/(.*)$"'
    vhost: www.puppetlabs.com
  'userContent':
    location: /userContent
    vhost: www.puppetlabs.com
    www_root: /var/www/html
</pre>
</section>
        </div>


        <div name="license" class="section" style="display: none;">
          <section class="plaintext"><pre>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http:&#x2F;&#x2F;www.apache.org&#x2F;licenses&#x2F;LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</pre></section>
        </div>

      <div name="dependencies" class="section" style="display: none;">
        <ul>
          <li>
            <a href="/puppetlabs/stdlib">puppetlabs/stdlib</a>
            (&gt;= 0.1.6)
          </li>
        </ul>
      </div>


  </div>
  <script>
    (function() {
      switchTab($('.link-tab')[0].getAttribute('name'));
    })();
  </script>
</section>

        </section>
        <section id="sidebar">
          <section class="session">
            <ul>
            <li><a href="/login">Log In</a></li>
            <li><a href="/signup">Sign Up</a></li>
            <li><a href="/modules/new">Publish a Module</a></li>
            </ul>
          </section>
          
          <section class="search">
            <h3>Find Modules</h3>
            <form action="/modules" method="get" accept-charset="UTF-8">
              <input type="hidden" name="utf-8" value="&#x2713;" />
              <input type="hidden" name="sort" value="rank" />
              <input type="search" name="q" required placeholder="eg. apache, mysql" />
              <input type="submit" value="Find" />
            </form>
          </section>
          
          <section class="tags">
            <h3>Popular Tags</h3>
            <ul>
              <li>
                <a href="/tags/ubuntu">
                  <b>ubuntu</b> (252 modules)
                </a>
              </li>
              <li>
                <a href="/tags/debian">
                  <b>debian</b> (203 modules)
                </a>
              </li>
              <li>
                <a href="/tags/rhel">
                  <b>rhel</b> (148 modules)
                </a>
              </li>
              <li>
                <a href="/tags/CentOS">
                  <b>CentOS</b> (115 modules)
                </a>
              </li>
              <li>
                <a href="/tags/centos">
                  <b>centos</b> (96 modules)
                </a>
              </li>
              <li>
                <a href="/tags/monitoring">
                  <b>monitoring</b> (79 modules)
                </a>
              </li>
              <li>
                <a href="/tags/networking">
                  <b>networking</b> (73 modules)
                </a>
              </li>
              <li>
                <a href="/tags/redhat">
                  <b>redhat</b> (69 modules)
                </a>
              </li>
              <li>
                <a href="/tags/security">
                  <b>security</b> (63 modules)
                </a>
              </li>
              <li>
                <a href="/tags/applications">
                  <b>applications</b> (61 modules)
                </a>
              </li>
            </ul>
          </section>
          
          <section class="banner">
            <a href="http://puppetconf.com/register/"><img src="/images/puppetconf_v1-01.png"></a>
          </section>        </section>
      </div>
    </section>
    <section id="footer">
       <div class="site-width">
         <div id="footer-links">
           <ul>
             <li><strong>Community</strong></li>
             <li><a href="http://webchat.freenode.net/?channels=puppet">IRC</a></li>
             <li><a href="http://groups.google.com/group/puppet-dev">Puppet Developer List</a></li>
             <li><a href="http://groups.google.com/group/puppet-users?pli=1">Puppet User List</a></li>
             <li><a href="http://www.linkedin.com/groups?about=&gid=696467&trk=anet_ug_grppro">Puppet Users' LinkedIn Group</a></li>
             <li><a href="http://puppetlabs.com/resources/newsletter/">Subscribe to Newsletter</a></li>
           </ul>
         </div>
         <div id="footer-bottom" class="clearfix">
           <div class="vcard">
             &copy; 2009-2012
             <span class="org">
               <a href="http://puppetlabs.com/" title="Puppet Labs">
               Puppet Labs
               </a>
             </span>
             <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>
             <span class="adr">
               <span class="street-address">926 NW 13th Ave., Suite 210</span>
               /
               <span class="locality">Portland</span>
               ,
               <span class="region">OR</span>
               <span class="postal-code">97209</span>
         
             </span>
             <span class="tel">+1 503-805-9065</span>
           </div>
           <div class="new-relic-logo">Monitored by <a href="http://newrelic.com/"><img src="/images/new-relic-oval.png"></a>
           </div>
         </div>
      </div>
    </section>
  </body>
</html>
