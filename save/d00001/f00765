<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>duritong/munin/0.0.1 Â· Puppet Forge</title>
    <link rel="stylesheet" href="/styles/application.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="/scripts/modernizr.js"></script>

    <script src="//munchkin.marketo.net/munchkin.js" type="text/javascript"></script>

    <script src="/scripts/leadcapture.js"></script>

    <script type="text/javascript">
      mktoMunchkin("307-QLA-991");

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1537572-5']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
      })();

      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '50a02411613f5d682f0000c1');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
  </head>
  <body>
    <section id="masthead">
      <div class="site-width">
      <ul>
        <li class="colon-after"><a href="http://www.puppetlabs.com">Puppet Labs</a></li>
        <li><a href="http://puppetlabs.com/puppet/puppet-open-source/">Open Source Projects</a></li>
        <li><a href="http://puppetlabs.com/services/customer-support/">Support</a></li>
        <li><a href="http://docs.puppetlabs.com/">Docs</a></li>
        <li><a href="http://projects.puppetlabs.com/">Bugs</a></li>
      </ul>
      </div>
    </section>
    <section id="header">
       <div class="site-width clearfix">
      <a href="/">
        <img src="/images/forge-logo.png" class="logo" width="214px" height="50px" alt="Puppet Forge Home">
      </a>
      
      <div class="stats">
        <span class="first">
          <span class="big">1,413</span> modules
        </span>
        <span>
          <span class="big">1,296,579</span> downloads
        </span>
      </div>
      </div>
    </section>
    <section id="content">
      <div class="site-width clearfix">
        <section id="body">
          <table id="modulepage-title">
  <tr>
    <td>
      <h2><a href="/duritong">duritong</a>/<a href="/duritong/munin">munin</a>/0.0.1</h2>
    </td>
    <td id="author-admin-links">
    </td>
  </tr>
</table>

<section class="module header">
  <section class="details">
    <table>
      <tr>
        <td class="gravatar">
          <img class="avatar" alt="avatar" src="//gravatar.com/avatar/ef14b7b705e5580cb42d78f0a7fa9238.png?r=PG&amp;s=45" />
        </td>
        <td class="module-info-basic">
          <div class="module-info-author">
            Author: <a href="/duritong">Peter Meier</a>
          </div>

          <div class="module-info-issues">
            <span>Links:</span>
            <ul class="pipe-separated tags"><li><a href="https://github.com/duritong/puppet-munin">Project URL</a></li>
              <li><a href="https://github.com/duritong/puppet-munin/issues">Report issues</a></li>
            </ul>
          </div>

            <div class="module-info-tags">
              <span>Tags:</span>
              <ul class="comma-separated tags">
                <li><a href="/tags/munin" title="Tagged &quot;munin&quot;">munin</a></li>
              </ul>
            </div>
        </td>
        <td class="module-info-releases">
          <div>
            <ul>
              <li>
                
                Release:
                <a href="/duritong/munin/0.0.1">
                  0.0.1
                </a>
              </li>
              <li>
                Release date: Aug 25, 2013
              </li>
              <li>
                
                Downloads of this release:
                3
              </li>
            </ul>
          </div>
        </td>
      </tr>
    </table>
  </section>
    <div class="installation">
      <h3>How to Install</h3>
      <div class="pmt-option">
        <span>Run this code on your puppet node using the Puppet Module Tool:</span>
        <input type="text" class="paste-code" value="puppet module install duritong/munin --version 0.0.1" onclick="this.select()"/>
        <small>The Puppet Module Tool is available in Puppet 2.7.14+ and Puppet Enterprise 2.5+ <a href="http://docs.puppetlabs.com/puppet/2.7/reference/modules_installing.html">Read about installing modules</a></small>
      </div>
      Or: <a href="/duritong/munin/0.0.1.tar.gz">Download as a .tar.gz</a>
    </div>

</section>


<section class="module-meta-info">
  <script>
    function switchTab(name) {
      $('.subnav-tabs .link-tab[name!=' + name + ']').removeClass('selected');
      $('.subnav-tabs .link-tab[name=' + name + ']').addClass('selected');
      $('.tabbed-content > .section[name!=' + name + ']').css({display:'none'});
      $('.tabbed-content > .section[name=' + name + ']').css({display:'block'});
      return false;
    }
  </script>
  <div class="tabbed-nav">
    <ul class="subnav-tabs">
      <li><a href="#" onclick="return switchTab(this.name)" name="readme" class="link-tab">README</a></li>
      <li><a href="#" onclick="return switchTab(this.name)" name="dependencies" class="link-tab">Dependencies</a></li>
    </ul>
  </div>

  <div class="tabbed-content">
        <div name="readme" class="section" style="display: none;">
          <section class="markdown"><h1>Puppet-Munin</h1>

<p>Munin is a performance monitoring system which creates nice RRD graphs and has<br>
a very easy plugin interface. The munin homepage is <a href="http://munin.projects.linpro.no/">http://munin.projects.linpro.no/</a></p>

<h2>Requirements</h2>

<ul>
<li>puppet 2.7 or newer</li>
<li>install the <code>concat</code> and <code>stdlib</code> modules -- the munin module depends on functions that are defined and installed via these modules</li>
<li><p>you will need storedconfigs enabled in your puppet setup, to do that you need to add a line to your <code>puppet.conf</code> in your <code>[puppetmasterd]</code> section which says:</p>

<pre><code>    storeconfigs=true
</code></pre></li>
<li><p>You may wish to immediately setup a <code>mysql</code>/ <code>pgsql</code> database for your storedconfigs, as<br>
the default method uses sqlite, and is not very efficient, to do that you need lines<br>
such as the following below the <code>storeconfigs=true</code> line (adjust as needed):</p>

<pre><code>   dbadapter=mysql
   dbserver=localhost
   dbuser=puppet
   dbpassword=puppetspasswd
</code></pre></li>
</ul>

<h2>Usage</h2>

<ol>
<li><p>Your modules directory will need all the files included in this repository placed <br>
  under a directory called &quot;munin&quot;</p></li>
<li><p>For every host you wish to gather munin statistics, add the class munin::client to that<br>
  node. You will want to set the class parameter <code>allow</code> to be the IP(s) of the munin<br>
  collector, this defines what IP is permitted to connect to the node, for example:</p>

<pre><code>  node foo {
    class { &#39;munin::client&#39;: allow =&gt; &#39;192.168.0.1&#39;}
  }
</code></pre>

<p>for multiple munin nodes, you can pass an array:</p>

<pre><code>    class { &#39;munin::client&#39;: allow =&gt; [ &#39;192.168.0.1&#39;, &#39;10.0.0.1&#39; ] }
</code></pre></li>
<li><p>In the node definition in your site.pp for your main munin host, add the following:</p>

<pre><code>    class { &#39;munin::host&#39;: }
</code></pre>

<p>If you want cgi graphing you can pass <code>cgi_graphing =&gt; true</code>. (For CentOS this is enabled in the default header config) for more information, see: <a href="http://munin.projects.linpro.no/wiki/CgiHowto">http://munin.projects.linpro.no/wiki/CgiHowto</a></p></li>
<li><p>If there are particular munin plugins you want to enable or configure, you define them<br>
  in the node definition, like follows:</p>

<pre><code>  # Enable monitoring of disk stats in bytes
  munin::plugin { &#39;df_abs&#39;: }

  # Use a non-standard plugin path to use custom plugins
  munin::plugin { &#39;spamassassin&#39;:
     ensure      =&gt; present,
     script_path =&gt; &#39;/usr/local/share/munin-plugins&#39;,
  }

  # For wildcard plugins (eg. ip_, snmp_, etc.), use the name variable to
  # configure the plugin name, and the ensure parameter to indicate the base
  # plugin name to which you want a symlink, for example:
  munin::plugin { [ &#39;ip_192.168.0.1&#39;, &#39;ip_10.0.0.1&#39; ]:
    ensure =&gt; &#39;ip_&#39;
  }

  # Use a special config to pass parameters to the plugin
  munin::plugin {
     [ &#39;apache_accesses&#39;, &#39;apache_processes&#39;, &#39;apache_volume&#39; ]:
        ensure =&gt; present,
        config =&gt; &#39;env.url http://127.0.0.1:80/server-status?auto&#39;
  }
</code></pre></li>
<li><p>If you have Linux-Vservers configured, you will likely have multiple munin-node processes<br>
  competing for the default port 4949, for those nodes, set an alternate port for munin-node<br>
  to run on by putting something similar to the following class parameter:</p>

<pre><code>  class { &#39;munin::client&#39;: allow =&gt; &#39;192.168.0.1&#39;, port =&gt; &#39;4948&#39; }
</code></pre></li>
</ol>
</section>
        </div>



      <div name="dependencies" class="section" style="display: none;">
        <ul>
          <li>
            <a href="/ripienaar/concat">ripienaar/concat</a>
            (&gt;= 0.2.0)
          </li>
          <li>
            <a href="/puppetlabs/stdlib">puppetlabs/stdlib</a>
            (&gt;= 3.2.0)
          </li>
        </ul>
      </div>


  </div>
  <script>
    (function() {
      switchTab($('.link-tab')[0].getAttribute('name'));
    })();
  </script>
</section>

        </section>
        <section id="sidebar">
          <section class="session">
            <ul>
            <li><a href="/login">Log In</a></li>
            <li><a href="/signup">Sign Up</a></li>
            <li><a href="/modules/new">Publish a Module</a></li>
            </ul>
          </section>
          
          <section class="search">
            <h3>Find Modules</h3>
            <form action="/modules" method="get" accept-charset="UTF-8">
              <input type="hidden" name="utf-8" value="&#x2713;" />
              <input type="hidden" name="sort" value="rank" />
              <input type="search" name="q" required placeholder="eg. apache, mysql" />
              <input type="submit" value="Find" />
            </form>
          </section>
          
          <section class="tags">
            <h3>Popular Tags</h3>
            <ul>
              <li>
                <a href="/tags/ubuntu">
                  <b>ubuntu</b> (252 modules)
                </a>
              </li>
              <li>
                <a href="/tags/debian">
                  <b>debian</b> (203 modules)
                </a>
              </li>
              <li>
                <a href="/tags/rhel">
                  <b>rhel</b> (148 modules)
                </a>
              </li>
              <li>
                <a href="/tags/CentOS">
                  <b>CentOS</b> (115 modules)
                </a>
              </li>
              <li>
                <a href="/tags/centos">
                  <b>centos</b> (96 modules)
                </a>
              </li>
              <li>
                <a href="/tags/monitoring">
                  <b>monitoring</b> (79 modules)
                </a>
              </li>
              <li>
                <a href="/tags/networking">
                  <b>networking</b> (73 modules)
                </a>
              </li>
              <li>
                <a href="/tags/redhat">
                  <b>redhat</b> (69 modules)
                </a>
              </li>
              <li>
                <a href="/tags/security">
                  <b>security</b> (63 modules)
                </a>
              </li>
              <li>
                <a href="/tags/applications">
                  <b>applications</b> (61 modules)
                </a>
              </li>
            </ul>
          </section>
          
          <section class="banner">
            <a href="http://puppetconf.com/register/"><img src="/images/puppetconf_v1-01.png"></a>
          </section>        </section>
      </div>
    </section>
    <section id="footer">
       <div class="site-width">
         <div id="footer-links">
           <ul>
             <li><strong>Community</strong></li>
             <li><a href="http://webchat.freenode.net/?channels=puppet">IRC</a></li>
             <li><a href="http://groups.google.com/group/puppet-dev">Puppet Developer List</a></li>
             <li><a href="http://groups.google.com/group/puppet-users?pli=1">Puppet User List</a></li>
             <li><a href="http://www.linkedin.com/groups?about=&gid=696467&trk=anet_ug_grppro">Puppet Users' LinkedIn Group</a></li>
             <li><a href="http://puppetlabs.com/resources/newsletter/">Subscribe to Newsletter</a></li>
           </ul>
         </div>
         <div id="footer-bottom" class="clearfix">
           <div class="vcard">
             &copy; 2009-2012
             <span class="org">
               <a href="http://puppetlabs.com/" title="Puppet Labs">
               Puppet Labs
               </a>
             </span>
             <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>
             <span class="adr">
               <span class="street-address">926 NW 13th Ave., Suite 210</span>
               /
               <span class="locality">Portland</span>
               ,
               <span class="region">OR</span>
               <span class="postal-code">97209</span>
         
             </span>
             <span class="tel">+1 503-805-9065</span>
           </div>
           <div class="new-relic-logo">Monitored by <a href="http://newrelic.com/"><img src="/images/new-relic-oval.png"></a>
           </div>
         </div>
      </div>
    </section>
  </body>
</html>
