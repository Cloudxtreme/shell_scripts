<html>
<head>
<title>AFNOG 2001 Workshop - Scalable Network Infrastructure Track</title>
</head>

<body>

<table width="250" border="0" align="right">
  <tr>
    <td>
    <img src="advisory.gif" border="0" width="120" height="50" alt="geektalk">
    </td>
  </tr>
</table>

<h1 align="center"><a href="../index.htm">AFNOG 2001 Workshop</a></h1>

<h1 align="center">Scalable Network Infrastructure</h1>

<p>This is part of the
<a href="../index.htm">AFNOG 2001 Workshop</a>,
held in conjunction with the
<a href="http://www.afnog.org/">AFNOG</a>
meeting in Accra, Ghana, in May 2001.

<hr>

<h2>OTHER COURSE DOCUMENTS</h2>

<p>This detailed course outline contains many links to presentation
materials used during class, and to external documents.</p>

<p>A <a href="outline.htm">simplified course outline</a>
contains major topic headings without more details.</p>

<p>A <a href="timetable.htm">timetable</a> shows the entire course at a
glance.</p>

<hr>

<h2>INSTRUCTORS</h2>

<ul>
    <!-- sorted by surname -->
    <li>Abha Ahuja (USA)</li>
    <li>Adiel Akplogan (Togo)</li>
    <li>Alan Barrett (South Africa)</li>
    <li>Brian Candler (UK)</li>
    <li>Geert Jan de Groot (Netherlands)</li>
    <li>Mirjam Kuehne (Netherlands)</li>
    <li>Brian Longwe (Kenya)</li>
    <li>Anne Lord (Australia)</li>

</ul>

<h2>TIMETABLE</h2>

<p>Each day is divided into four slots of approximately two hours
each.  Classes start promptly at 08:30 and end at around 18:00
daily.  There will be a one-hour break for lunch at around 13:00,
and 20-minute breaks in mid-morning and mid-afternoon.</p>

<h3>Monday morning</h3>

<ul>

  <li>
    Introduction and logistics -- Brian Longwe
    <ul>
      <li>
	Presentation in
	  <a href="00-intro/intro.ppt">Powerpoint</a>,
	  <a href="00-intro/intro/index.htm">HTML</a>.
      </li>
    </ul>
  </li>

  <li>
    Classroom configuration - Additional material
    <ul>
      <li>
	General notes for all practical exercises, in
	  <a href="01-classconf/practic.htm">HTML</a>.
      </li>
    </ul>
  </li>

  <li>
    IP and networking basics - Alan
    <ul>
      <li>Topics include: the protocol stack, hop by hop forwarding,
	IP addresses, netmasks, CIDR prefix notation, ethernet ARP,
	binary arithmetic.
      </li>
      <li>Students will be able to:
	<ul>
	  <li>recognise the ISO OSI seven-layer model</li>
	  <li>understand the relationship between the TCP/IP model
	      and the ISO model</li>
	  <li>describe the unifying effect of the network later</li>
	  <li>describe how IP addresses are constructed:
		network part, host part</li>
	  <li>understand old classful networking terminology:
		class A, B, C</li>
	  <li>understand modern classless networking terminology:
		CIDR, prefix length, VLSM</li>
	  <li>convert between prefix length and netmask notation</li>
	  <li>identify network and broadcast addresses</li>
	  <li>find lowest/highest possible IP address in a prefix</li>
	  <li>subdivide prefixes</li>
	  <li>understand the concepts of subnetting and supernetting</li>
	  <li>distinguish between different network types:
	      broadcast, point-to-point, NBMA</li>
	  <li>explain the purpose of ARP</li>
	  <li>describe the forwarding process and `longest match'
	      rules</li>
	</ul>
      </li>
      <li>Presentation, in
	  <a href="05-stack/stack.ppt">Powerpoint</a>,
	  <a href="05-stack/stack/index.htm">HTML</a>.
      </li>
    </ul>
  </li>

  <li>
    IP addresses - Additional material
    <ul>
      <li>binary/decimal/hexadecimal conversion table, in
	  <a href="06-ip-addr/binary.txt">plain text</a>,
	  <a href="06-ip-addr/binary.htm">HTML</a>,
	  <a href="06-ip-addr/binary.ps">PostScript</a>.
      </li>
      <li>netmask table, in
	  <a href="06-ip-addr/netmask.txt">plain text</a>,
	  <a href="06-ip-addr/netmask.htm">HTML</a>,
	  <a href="06-ip-addr/netmask.ps">PostScript</a>.
      </li>
    </ul>
  </li>

</ul>

<h3>Monday afternoon</h3>

<ul>

  <li>
    Cisco router configuration basics - Adiel
    <ul>
      <li>Topics include: RAM, NVRAM, Flash. Logging in. Running
	versus startup configurations, what they do, how they can
	be displayed, how to change them. Configuring interfaces,
	startup information, static routes. How to set passwords.
	Updating IOS, TFTPing configuration files.
      </li>
      <li>Students will be able to:
	<ul>
	  <li>use FreeBSD as serial console (/etc/remote, tip)</li>
	  <li>login to a cisco router</li>
	  <li>perform basic commands</li>
	  <li>show the running and stored configuration files</li>
	  <li>make configuration changes</li>
	  <li>change the IP address of an interface on a Cisco router</li>
	  <li>add static and default routes to a cisco router</li>
	  <li>TFTP a config file</li>
	</ul>
      </li>
      <li>Presentation, in
	  <a href="10-ciscointro/ciscointro.ppt">Powerpoint</a>,
	  <a href="10-ciscointro/ciscointro/index.htm">HTML</a>.
      </li>
    </ul>
  </li>

  <li>
    Operating systems and routers - Additional material
    <ul>
      <li>
	FreeBSD notes, in
	  <a href="11-freebsd/freebsd.htm">HTML</a>.
      </li>
      <li>
	The same FreeBSD notes, imported from HTML to MS Word,
	and reformatted for use as a double-sided one-page handout, in
	  <a href="11-freebsd/freebsd-handout.doc">MS Word format</a>.
      </li>
    </ul>
  </li>

  <li>
    Static routing exercise using Unix and Cisco equipment - Alan
    <ul>
      <li>Students will configure static routes on their Unix systems
	and routers in order to have reachability to the rest of the lab.
      </li>
      <li>Topics include: configuring IP addresses on interfaces of
	Unix host and cisco router.  Configuring static default route on
	Unix host.  Configuring static routes on Cisco router.
	Troubleshooting using ping and traceroute.
      </li>
      <li>Students will be able to:
	<ul>
	  <li>configure FreeBSD as IP client (/etc/rc.conf)</li>
	  <li>change the ip address of an interface on a Unix system
	    (ifconfig)</li>
	  <li>add static routes to a Unix system (route, netstat)</li>
	  <li>use FreeBSD as serial console (/etc/remote, tip)</li>
	  <li>erase configuration of a Cisco router (write erase)</li>
	  <li>configure IP forwarding on Cisco</li>
	  <li>change the IP address of an interface on a Cisco router</li>
	  <li>add static routes to a Cisco router</li>
	  <li>perform basic network troubleshooting tasks such as
	    ping and traceroute</li>
	  <li>explain what a default route is</li>
	</ul>
      </li>
      <li>Presentation, in
	<a href="15-staticex/staticex.ppt">Powerpoint</a>,
	<a href="15-staticex/staticex/index.htm">HTML</a>.
      </li>
    </ul>
  </li>

</ul>

<h3>Monday evening - Optional sessions</h3>

<hr>

<h3>Tuesday morning</h3>

<ul>

  <li>
    OSPF and IGPs -- Brian Candler
    <ul>
      <li>Students will be able to:
        <ul>
          <li>explain when to use an IGP, and when not</li>
          <li>list advantages of OSPF over RIP, EIGRP, IS/IS
              (fast convergence, scalability, vendor independence,
              equal-cost multipath, authentication, bandwidth,
              classless!)</li>
          <li>explain the difference between forwarding and routing;
              can have multiple routing databases for different
              protocols but one forwarding table</li>
          <li>identify the lowest-cost path and equal-cost paths</li>
          <li>describe the formation of neighbour relations</li>
          <li>list default values for hellointerval / routerdeadinterval</li>
          <li>briefly describe the database flooding and recalculation,
              and purpose of DR/BDR</li>
        </ul>
      </li>
      <li>Quick demonstration, in
	<a href="20-ospf/ospfmagic.ag">Applix</a>,
	<a href="20-ospf/ospfmagic.ppt">Powerpoint</a>.
      </li>
      <li>OSPF Presentation, in
	<a href="20-ospf/ospf.ag">Applix</a>,
	<a href="20-ospf/ospf.ppt">Powerpoint</a>,
	<a href="20-ospf/ospf/index.html">HTML</a>,
	<a href="20-ospf/ospf.ps">Postscript handout</a>,
	<a href="20-ospf/ospf.pdf">PDF handout</a>.
      </li>
    </ul>
  </li>

  <li>
    OSPF exercise -- Brian Candler
    <ul>
      <li>Students will be able to:
        <ul>
          <li>rebuild the classroom exercise using single area OSPF</li>
          <li>configure appropriate link costs, MD5 authentication,
              enable OSPF on specific interfaces</li>
          <li>perform simple inspection of OSPF database (neighbours,
              routes, DR/BDR)</li>
          <li>alter topology and observe altered routes</li>
          <li>redistribute connected and static</li>
          <li>originate default route</li>
          <li>configure loopback interfaces</li>
          <li>save configs to TFTP server</li>
        </ul>
      </li>
      <li>Exercise, in
	<a href="21-ospfex/ospfex.htm">HTML</a>.
      </li>
    </ul>
  </li>

</ul>

<h3>Tuesday afternoon</h3>

<ul>

  <li>
    Continuation of OSPF exercise
  </li>

  <li>
    Resilient network design concepts -- Brian Candler
    <ul>
      <li>Topics:
        <ul>
          <li>Show a typical non-resilient network; identify need for
              putting different types of device on physically separate
              subnets. May require renumbering.</li>
          <li>Present a complete design for a resilient network with
              dual core switches, dual-attached border routers and access
              routers with OSPF and ECMP, clients with HSRP, physically
              separate networks for different types of traffic.</li>
          <li>Outline features for resilience, scalability, ease of
              maintenance.</li>
          <li>Highlight need for non-blocking switches. Vendor enhancements (CEF)
          <li>Beware buggy OSPF implementations</li>
        </ul>
      </li>
      <li>Bad network design, in
	<a href="30-corenet/baddes.ag">Applix</a>,
	<a href="30-corenet/baddes.ps">Postscript</a>,
	<a href="30-corenet/baddes.pdf">PDF</a>.
      </li>
      <li>Layer 3 separation presentation, in
	<a href="30-corenet/scaling.ag">Applix</a>,
	<a href="30-corenet/scaling.ppt">Powerpoint</a>,
	<a href="30-corenet/scaling/index.html">HTML</a>,
	<a href="30-corenet/scaling.ps">Postscript handout</a>,
	<a href="30-corenet/scaling.pdf">PDF handout</a>.
      </li>
      <li>Core network design, in
	<a href="30-corenet/corenet.ag">Applix</a>,
	<a href="30-corenet/corenet.ps">Postscript</a>,
	<a href="30-corenet/corenet.pdf">PDF</a>.
      </li>
    </ul>
  </li>

  <li>
    Network rollout planning exercise -- Brian Candler
    <ul>
      <li>Students will be able to:
        <ul>
          <li>Create a plan for converting the &quot;before&quot; to
              the &quot;after&quot; with minimum disruption to service</li>
          <li>Present the plan to the class
        </ul>
      </li>
      <li>Exercise, in
	<a href="31-rollout/rollout.ag">Applix</a>,
	<a href="31-rollout/rollout.ps">Postscript</a>,
	<a href="31-rollout/rollout.pdf">PDF</a>.
      </li>
    </ul>
  </li>

</ul>

<h3>Tuesday evening - Optional sessions</h3>

<ul>
  <li>Cisco password recovery</li>
  <li>What is a VPN?</li>
  <li>What is Frame Relay?</li>
</ul>

<hr>

<h3>Wednesday morning</h3>

<ul>

  <li>
    Why BGP? -- Abha
    <ul>
      <li>Topics include: What is BGP?  Why do we want to use it?  Transit,
	and peering.
      </li>
      <li>Presentation, in
 	<a href="40-introbgp/introbgp.ppt">Powerpoint</a>,
	<a href="40-introbgp/introbgp/index.htm">HTML</a>.
      </li>
    </ul>
  </li>

  <li>
    BGP Introduction -- Abha
    <ul>
	<li>Topics include:  How BGP works, BGP attributes, BGP configuration
	</li>
    	<li>Students will be able to:
	 <ul>
	  <li>Explain why you need an EGP (you want to be able to exchange
            traffic/ routes with other networks; cost of transit vs peering.
            Can't use static routes, can't use IGP)</li>
          <li>Define autonomous system</li>
          <li>Describe the key characteristics of BGP4 (point-to-point peering,
            TCP, incremental updates, routes + attributes, eBGP and iBGP)</li>
          <li>List important attributes: AS path, nexthop, localpref, MED,
            communities</li>
          <li>Describe typical path selection by length of AS path, and
            outline use of prepending to influence upstream path selection</li>
          <li>Explain the recursive lookup of nexthop attribute</li>
          <li>Use the list of BGP route-selection rules</li>
          <li>Read a table of 'distances' for which protocol wins</li>
          <li>Remember that longest prefix always wins</li>
	</ul>
	<li>Presentation, in 
	  <a href="41-bgp/bgp.ppt">Powerpoint</a>,
	  <a href="41-bgp/bgp/index.htm">HTML</a>.
	</li>
    </ul>	
  </li>

  <li>
    BGP Practical -- Abha/Longwe
    <ul>
      <li>Students will be able to:
        <ul>
          <li>set up a BGP peering session</li>
          <li>Announce nailed-up route</li>
          <li>show ip bgp summary</li>
          <li>understand how to filter routes</li>
	</ul>
      </li>
      <li>Exercise notes, in
        <a href="42-bgpex/bgpex.doc">MS Word format</a>,
        <a href="42-bgpex/bgpex.htm">HTML</a>.
      </li>
    </ul>
  </li>

</ul>

<h3>Wednesday afternoon</h3>

<ul>

  <li>
    BGP Practical (continued) -- Abha/APB
   <ul>
      <li>Students will be able to:
        <ul>
          <li>describe some important policies</li>
          <li>explain why they are desirable</li>
          <li>implement some of them in practical exercises</li>
        </ul>
      </li>
      <li>Topics include:
        <ul>
          <li>Problem: Don't want to see own routes from anyone else</li>
          <li>Solution: Filter incoming: deny default, deny your own
            netblocks or subnets thereof</li>

          <li>Problem: Want to protect your CPU / memory</li>
          <li>Solution: Filter incoming: deny longer prefixes than /24</li>

          <li>Problem: Don't want to provide transit to your peer</li>
          <li>Solution: Filter outgoing: allow only null ASpath</li>

          <li>Problem: Want to provide backup transit (only) to peer</li>
          <li>Solution: Prepend announcements heavily</li>

          <li>Problem: Don't want to accidentally received whole Internet
            routes from peer</li>
          <li>Solution: Filter incoming routes by AS path</li>

          <li>Problem: Don't want to receive internal IGP routes accicentally
            announced by peers</li>
          <li>Solution: Filter incoming routes by IP prefix: Deny long
            prefixes.</li>

          <li>Problem: Don't trust customers to generate correct routes</li>
          <li>Solution: Filter incoming routes by IP prefix:
            Deny unregistered routes.</li>

          <li>Problem: Prefer one provider over another for certain
            destinations</li>
          <li>Solution: Set localpref on all routes from provider, or by
            AS-path</li>

          <li>Problem: Want to influence routing decisions made upstream</li>
          <li>Solution: Set communities on outgoing routes</li>

          <li>Problem: Want to track where routes were learned</li>
          <li>Solution: Set FYI communities on incoming routes</li>

          <li>Problem: Want to allow peer/customer to control routing</li>
          <li>Solution: Allow peer to set community which we use to adjust
            localpref or AS-path stuffing</li>

        </ul>
      </li>
    </ul>
  </li>

</ul>

<hr>

<h3>Thursday morning</h3>

<ul>

  <li>
    BGP Practical (continued) -- Abha/APB
  </li>

</ul>

<h3>Thursday afternoon</h3>

<ul>

  <li>
    BGP Practical (continued) -- Abha/APB
  </li>

</ul>

<h3>Thursday evening - Optional sessions</h3>

<hr>

<h3>Friday morning</h3>

<ul>

  <li>
    Internet exchange points -- Abha/APB
    <ul>
      <li>Topics include: What is an exchange point.  Why you need one.
          Basic XP design.
      </li>
      <li>Students will be able to:
	<ul>
	  <li>explain what is an exchange point</li>
	  <li>explain why people use XPs</li>
	  <li>understand why XPs are important</li>
	  <li>review some current XP designs used today</li>
	  <li>think about how to set up an exchange point in your
	      environment</li>
	  <li>understand why Route Servers are useful</li>
	  <li>explain what routing registries do and why you should use one</li>
	</ul>
      </li>
      <li>Presentation, in
	<a href="60-xp/xp.ppt">Powerpoint</a>,
	<a href="60-xp/xp/index.htm">HTML</a>.
      </li>
    </ul>
  </li>

  <li>
    Exchange points exercise -- Abha/APB
    <ul>
      <li>Students will be able to:
	<ul>
	  <li>build a simple exchange point</li>
	  <li>demonstrate how an XP benefits their network</li>
	</ul>
      </li>
      <li>Presentation, in
	<a href="61-xp-exercise/xp-exercise.doc">MS Word format</a>,
	<a href="61-xp-exercise/xp-exercise.htm">HTML</a>.
      </li>
    </ul>
  </li>

  <li>
    NOC services and applications -- Brian Longwe
    <ul>
      <li>Topics include: Fault Management, Configuration/Change
	  Management, Performance Management, Security Management, Accounting
	  Management.
      </li>
      <li>Students will be able to:
	<ul>
	  <li>Explain the need for a Network Operations Center</li>
	  <li>Identify the elements of Network Management</li>
	  <li>Explain why ticket systems are necessary in a NOC</li>
	  <li>Use a simple ticket system effectively</li>
	  <li>Explain the different types of tools that can be used
	      for network monitoring</li>
	  <li>Use a basic monitoring system to observe the health
	      of the network, detect faults and respond appropriately</li>
	  <li>Understand the concepts behind Change Management</li>
	</ul>
      </li>
      <li>Presentation, in
	<a href="80-noc/noc-mgmt.ppt">Powerpoint</a>,
	<a href="80-noc/noc-mgmt/index.htm">HTML</a>.
      </li>
      <li>Help Desk Responsibilities: tips for NOC operators, in
	<a href="81-noctips/noc-tips.doc">MS Word format</a>,
	<a href="81-noctips/noc-tips.pdf">PDF</a>,
	<a href="81-noctips/html/noc-tips.htm">HTML</a>,
      </li>
      <li>NOCOL exercise notes, in
	<a href="82-noctools/ex-nocol.htm">HTML</a>.
      </li>
      <li>MRTG exercise notes, in
	<a href="82-noctools/ex-mrtg.htm">HTML</a>.
      </li>
      <li>Cricket configuration notes, in
	<a href="82-noctools/cricket.htm">HTML</a>.
      </li>
      <li>Web RT configuration notes, in
	<a href="82-noctools/webrt-inst.txt">text</a>.
      </li>
    </ul>
  </li>

</ul>

<h3>Friday afternoon</h3>

<ul>
  <li>
    IP address management -- Mirjam Kuehne and Anne Lord
    <ul>
      <li>Topics include: Address Distribution and Policy, Local Registries,
	  Regional Registries, address space request documentation,
	  assignment and allocation guidelines, 
	  Autonomous System number assignment guidelines.
      </li>
      <li>IP Address Management presentation, in
	<a href="90-addrmgmt/addrmgmt.ppt">Powerpoint</a>,
	<a href="90-addrmgmt/addrmgmt/index.htm">HTML</a>.
      </li>
      <li>Internet Registries procedures presentation, in
	<a href="91-procedures/procedures.ppt">Powerpoint</a>,
	<a href="91-procedures/procedures/index.htm">HTML</a>.
      </li>
      <li>Best Current Practice presentation, in
	<a href="92-bcp/bcp.ppt">Powerpoint</a>,
	<a href="92-bcp/bcp/index.htm">HTML</a>.
      </li>
      <li>Internet Registry allocation and assignment presentation, in
	<a href="93-alloc-assign/alloc-assign.ppt">Powerpoint</a>,
	<a href="93-alloc-assign/alloc-assign/index.htm">HTML</a>.
      </li>
      <li>The whois Database presentation, in
	<a href="94-whois/whois.ppt">Powerpoint</a>,
	<a href="94-whois/whois/index.htm">HTML</a>.
      </li>
      <li>Autonomous System Numbers presentation, in
	<a href="95-asn/asn.ppt">Powerpoint</a>,
	<a href="95-asn/asn/index.htm">HTML</a>.
      </li>
    </ul>
  </li>
</ul>

<hr>

<h2>LINKS AND REFERENCES</h2>

<h3>IP numbers and AS numbers</h3>

<ul>
  <li>
    <a href="misc/cidr-faq.htm">CIDR FAQ Sheet</a> -
    Classless Inter Domain Routing Frequently Asked Questions
  </li>

  <li>
    <a href="http://www.ripe.net/ripe/docs/titletoc.html">RIPE working
    documents index</a>
  </li>

  <li>
    <a href="ftp://ftp.isi.edu/in-notes/rfc1918.txt">RFC1918</a> -
    allocation of private IP address space
  </li>

  <li>
    <a href="ftp://ftp.isi.edu/in-notes/rfc1930.txt">RFC1930</a> -
    guidelines for creation of an autonomous system (including allocation of
    private AS numbers)
  </li>

</ul>


<h3>Operational guidelines</h3>

<ul>
  <li>
    <a href="ftp://ftp.isi.edu/in-notes/rfc2791.txt"> RFC2791</a> -
      a document which describes best practices for making
      routing protocols scale
  </li>

  <li>
    <a href="ftp://ftp.isi.edu/in-notes/rfc2182.txt">RFC2182</a> -
    an operational guide to selection and operation of secondary DNS servers
  </li>

  <li>
    <a href="http://www.cisco.com/warp/public/473/3.html">
      10/100 Half/full duplex autonegotation</a> hints from Cisco
  </li>

  <li>
    <a href="ftp://rtfm.mit.edu/pub/usenet-by-hierarchy/comp/dcom/cabling/Data_Communications_Cabling_FAQ">
      comp.dcom.cabling FAQ</a>
  </li>

  <li>
    <a href="http://www.ep.net/">www.ep.net</a> - Exchange Point Information
  </li>

  <li>
    <a href="http://www.traceroute.org/">www.traceroute.org</a> - Pointers to remote diagnostic tools
  </li>
</ul>


<h3>Cisco-specific documentation</h3>

<ul>
  <li>
    <a href="misc/cisco-password-recovery.htm">
      Cisco password recovery procedures</a> 
    (This is a local copy - check the
    <a href="http://www.cisco.com">Cisco web site</a>
    for updates.)
  </li>

  <li>
    <a href="http://www.routergod.com/psychic/">Cisco Psychic TAC Hotline</a>:
    Madame ROMMON answers questions about Cisco Password Recovery
  </li>

  <li>
    <a href="http://www.cisco.com/public/cons/isp/documents/IOSEssentialsPDF.zip">
      IOS Essentials (PDF.zip)</a> - Barry Greene's IOS Document <a href="misc/IOS-Essentials-2-84.pdf">(local copy)</a>
  </li>

  <li>
    <a href="http://www.cisco.com/univercd/cc/td/doc/product/software/ios120/12cgcr/switch_c/xcprt2/xccef.htm">
      Cisco Express Forwarding</a>
  </li>

  <li>
    <a href="ftp://ftp.isi.edu/in-notes/rfc2281.txt">RFC2281</a> -
    Cisco Hot Standby Router Protocol (HSRP). Compare with
    <a href="ftp://ftp.isi.edu/in-notes/rfc2338.txt">RFC2338</a> -
    Virtual Router Redundancy Protocol (VRRP)
  </li>

  <li>
    <a href="http://cisco.ninjas.org/">Alternative uses</a>
    for 2500-series routers
  </li>

</ul>

<h3>Software tools</h3>

<ul>
  <li>
    <a href="http://www.math.duke.edu/~yu/wreq/">WREQ</a>
    - a distributed request/problem tracking system
  </li>

  <li>
    <a href="http://www.shrubbery.net/rancid/">Rancid</a>
    - a tool for monitoring and maintaining router configurations and
    keeping them in CVS
  </li>
</ul>

<hr>

<p align="center"><a href="../index.htm">Return to AFNOG Workshop Main Page</a></p>

</body>
</html>
