<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>netmanagers/varnish/1.0.2 · Puppet Forge</title>
    <link rel="stylesheet" href="/styles/application.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="/scripts/modernizr.js"></script>

    <script src="//munchkin.marketo.net/munchkin.js" type="text/javascript"></script>

    <script src="/scripts/leadcapture.js"></script>

    <script type="text/javascript">
      mktoMunchkin("307-QLA-991");

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1537572-5']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
      })();

      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '50a02411613f5d682f0000c1');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
  </head>
  <body>
    <section id="masthead">
      <div class="site-width">
      <ul>
        <li class="colon-after"><a href="http://www.puppetlabs.com">Puppet Labs</a></li>
        <li><a href="http://puppetlabs.com/puppet/puppet-open-source/">Open Source Projects</a></li>
        <li><a href="http://puppetlabs.com/services/customer-support/">Support</a></li>
        <li><a href="http://docs.puppetlabs.com/">Docs</a></li>
        <li><a href="http://projects.puppetlabs.com/">Bugs</a></li>
      </ul>
      </div>
    </section>
    <section id="header">
       <div class="site-width clearfix">
      <a href="/">
        <img src="/images/forge-logo.png" class="logo" width="214px" height="50px" alt="Puppet Forge Home">
      </a>
      
      <div class="stats">
        <span class="first">
          <span class="big">1,413</span> modules
        </span>
        <span>
          <span class="big">1,296,589</span> downloads
        </span>
      </div>
      </div>
    </section>
    <section id="content">
      <div class="site-width clearfix">
        <section id="body">
          <table id="modulepage-title">
  <tr>
    <td>
      <h2><a href="/netmanagers">netmanagers</a>/<a href="/netmanagers/varnish">varnish</a>/1.0.2</h2>
    </td>
    <td id="author-admin-links">
    </td>
  </tr>
</table>

<section class="module header">
  <section class="details">
    <table>
      <tr>
        <td class="gravatar">
          <img class="avatar" alt="avatar" src="//gravatar.com/avatar/06209081cd6600d7000ef11d9328dcea.png?r=PG&amp;s=45" />
        </td>
        <td class="module-info-basic">
          <div class="module-info-author">
            Author: <a href="/netmanagers">Javier Bértoli</a>
          </div>

          <div class="module-info-issues">
            <span>Links:</span>
            <ul class="pipe-separated tags"><li><a href="https://github.com/netmanagers/puppet-varnish">Project URL</a></li>
              <li><a href="https://github.com/netmanagers/puppet-varnish/issues">Report issues</a></li>
            </ul>
          </div>

            <div class="module-info-tags">
              <span>Tags:</span>
              <ul class="comma-separated tags">
                <li><a href="/tags/debian" title="Tagged &quot;debian&quot;">debian</a></li>
                <li><a href="/tags/centos" title="Tagged &quot;centos&quot;">centos</a></li>
                <li><a href="/tags/example42" title="Tagged &quot;example42&quot;">example42</a></li>
                <li><a href="/tags/application" title="Tagged &quot;application&quot;">application</a></li>
                <li><a href="/tags/cache" title="Tagged &quot;cache&quot;">cache</a></li>
                <li><a href="/tags/web" title="Tagged &quot;web&quot;">web</a></li>
                <li><a href="/tags/netmanagers" title="Tagged &quot;netmanagers&quot;">netmanagers</a></li>
              </ul>
            </div>
        </td>
        <td class="module-info-releases">
          <div>
            <ul>
              <li>
                
                Release:
                <a href="/netmanagers/varnish/1.0.2">
                  1.0.2
                </a>
              </li>
              <li>
                Release date: Aug 24, 2013
              </li>
              <li>
                
                Downloads of this release:
                7
              </li>
              <li class="releases-dropdown">
                Other releases:
                <select onchange="window.location=this.value">
                  <optgroup label="Latest version">
                    <option  value="/netmanagers/varnish/1.0.2">1.0.2</option>
                  </optgroup>
                  <optgroup label="Other versions">
                    <option  value="/netmanagers/varnish/1.0.1">1.0.1</option>
                    <option  value="/netmanagers/varnish/1.0.0">1.0.0</option>
                  </optgroup>
                </select>
              </li>
            </ul>
          </div>
        </td>
      </tr>
    </table>
  </section>
    <div class="installation">
      <h3>How to Install</h3>
      <div class="pmt-option">
        <span>Run this code on your puppet node using the Puppet Module Tool:</span>
        <input type="text" class="paste-code" value="puppet module install netmanagers/varnish --version 1.0.2" onclick="this.select()"/>
        <small>The Puppet Module Tool is available in Puppet 2.7.14+ and Puppet Enterprise 2.5+ <a href="http://docs.puppetlabs.com/puppet/2.7/reference/modules_installing.html">Read about installing modules</a></small>
      </div>
      Or: <a href="/netmanagers/varnish/1.0.2.tar.gz">Download as a .tar.gz</a>
    </div>

</section>


<section class="module-meta-info">
  <script>
    function switchTab(name) {
      $('.subnav-tabs .link-tab[name!=' + name + ']').removeClass('selected');
      $('.subnav-tabs .link-tab[name=' + name + ']').addClass('selected');
      $('.tabbed-content > .section[name!=' + name + ']').css({display:'none'});
      $('.tabbed-content > .section[name=' + name + ']').css({display:'block'});
      return false;
    }
  </script>
  <div class="tabbed-nav">
    <ul class="subnav-tabs">
      <li><a href="#" onclick="return switchTab(this.name)" name="readme" class="link-tab">README</a></li>
      <li><a href="#" onclick="return switchTab(this.name)" name="dependencies" class="link-tab">Dependencies</a></li>
    </ul>
  </div>

  <div class="tabbed-content">
        <div name="readme" class="section" style="display: none;">
          <section class="markdown"><h1>Puppet module: varnish</h1>

<p>This is a Puppet module for varnish based on the second generation layout (&quot;NextGen&quot;) of Example42 Puppet Modules.</p>

<p>Made by Javier Bertoli / Netmanagers</p>

<p>Official site: <a href="http://www.netmanagers.com.ar">http://www.netmanagers.com.ar</a></p>

<p>Official git repository: <a href="http://github.com/netmanagers/puppet-varnish">http://github.com/netmanagers/puppet-varnish</a></p>

<p>Released under the terms of Apache 2 License.</p>

<p>This module requires functions provided by the Example42 Puppi module (you need it even if you don&#39;t use and install Puppi)</p>

<p>For detailed info about the logic and usage patterns of Example42 modules check the DOCS directory on Example42 main modules set.</p>

<h2>USAGE - Basic management</h2>

<ul>
<li><p>Install varnish with default settings</p>

<pre><code>class { &#39;varnish&#39;: }
</code></pre></li>
<li><p>Install a specific version of varnish package</p>

<pre><code>class { &#39;varnish&#39;:
  version =&gt; &#39;1.0.1&#39;,
}
</code></pre></li>
<li><p>Disable varnish service.</p>

<pre><code>class { &#39;varnish&#39;:
  disable =&gt; true
}
</code></pre></li>
<li><p>Remove varnish package</p>

<pre><code>class { &#39;varnish&#39;:
  absent =&gt; true
}
</code></pre></li>
<li><p>Enable auditing without without making changes on existing varnish configuration <em>files</em></p>

<pre><code>class { &#39;varnish&#39;:
  audit_only =&gt; true
}
</code></pre></li>
<li><p>Module dry-run: Do not make any change on <em>all</em> the resources provided by the module</p>

<pre><code>class { &#39;varnish&#39;:
  noops =&gt; true
}
</code></pre></li>
</ul>

<h2>USAGE - Overrides and Customizations</h2>

<ul>
<li><p>Use custom sources for main config file </p>

<pre><code>class { &#39;varnish&#39;:
  source =&gt; [ &quot;puppet:///modules/example42/varnish/varnish.conf-${hostname}&quot; , &quot;puppet:///modules/example42/varnish/varnish.conf&quot; ], 
}
</code></pre></li>
<li><p>Use custom source directory for the whole configuration dir</p>

<pre><code>class { &#39;varnish&#39;:
  source_dir       =&gt; &#39;puppet:///modules/example42/varnish/conf/&#39;,
  source_dir_purge =&gt; false, # Set to true to purge any existing file not present in $source_dir
}
</code></pre></li>
<li><p>Use custom template for main config file. Note that template and source arguments are alternative. </p>

<pre><code>class { &#39;varnish&#39;:
  template =&gt; &#39;example42/varnish/varnish.conf.erb&#39;,
}
</code></pre></li>
<li><p>Automatically include a custom subclass</p>

<pre><code>class { &#39;varnish&#39;:
  my_class =&gt; &#39;example42::my_varnish&#39;,
}
</code></pre></li>
</ul>

<h2>USAGE - Example42 extensions management</h2>

<ul>
<li><p>Activate puppi (recommended, but disabled by default)</p>

<pre><code>class { &#39;varnish&#39;:
  puppi    =&gt; true,
}
</code></pre></li>
<li><p>Activate puppi and use a custom puppi_helper template (to be provided separately with a puppi::helper define ) to customize the output of puppi commands </p>

<pre><code>class { &#39;varnish&#39;:
  puppi        =&gt; true,
  puppi_helper =&gt; &#39;myhelper&#39;, 
}
</code></pre></li>
<li><p>Activate automatic monitoring (recommended, but disabled by default). This option requires the usage of Example42 monitor and relevant monitor tools modules</p>

<pre><code>class { &#39;varnish&#39;:
  monitor      =&gt; true,
  monitor_tool =&gt; [ &#39;nagios&#39; , &#39;monit&#39; , &#39;munin&#39; ],
}
</code></pre></li>
<li><p>Activate automatic firewalling. This option requires the usage of Example42 firewall and relevant firewall tools modules</p>

<pre><code>class { &#39;varnish&#39;:       
  firewall      =&gt; true,
  firewall_tool =&gt; &#39;iptables&#39;,
  firewall_src  =&gt; &#39;10.42.0.0/24&#39;,
  firewall_dst  =&gt; $ipaddress_eth0,
}
</code></pre></li>
</ul>

<h2>CONTINUOUS TESTING</h2>

<p>Travis {<img src="https://travis-ci.org/netmanagers/puppet-varnish.png?branch=master" alt="Build Status" />}[<a href="https://travis-ci.org/netmanagers/puppet-varnish">https://travis-ci.org/netmanagers/puppet-varnish</a>]</p>
</section>
        </div>



      <div name="dependencies" class="section" style="display: none;">
        <ul>
          <li>
            <a href="/example42/puppi">example42/puppi</a>
            (&gt;=2.0.0)
          </li>
          <li>
            <a href="/example42/firewall">example42/firewall</a>
            (&gt;=2.0.0)
          </li>
          <li>
            <a href="/example42/monitor">example42/monitor</a>
            (&gt;=2.0.0)
          </li>
        </ul>
      </div>


  </div>
  <script>
    (function() {
      switchTab($('.link-tab')[0].getAttribute('name'));
    })();
  </script>
</section>

        </section>
        <section id="sidebar">
          <section class="session">
            <ul>
            <li><a href="/login">Log In</a></li>
            <li><a href="/signup">Sign Up</a></li>
            <li><a href="/modules/new">Publish a Module</a></li>
            </ul>
          </section>
          
          <section class="search">
            <h3>Find Modules</h3>
            <form action="/modules" method="get" accept-charset="UTF-8">
              <input type="hidden" name="utf-8" value="&#x2713;" />
              <input type="hidden" name="sort" value="rank" />
              <input type="search" name="q" required placeholder="eg. apache, mysql" />
              <input type="submit" value="Find" />
            </form>
          </section>
          
          <section class="tags">
            <h3>Popular Tags</h3>
            <ul>
              <li>
                <a href="/tags/ubuntu">
                  <b>ubuntu</b> (252 modules)
                </a>
              </li>
              <li>
                <a href="/tags/debian">
                  <b>debian</b> (203 modules)
                </a>
              </li>
              <li>
                <a href="/tags/rhel">
                  <b>rhel</b> (148 modules)
                </a>
              </li>
              <li>
                <a href="/tags/CentOS">
                  <b>CentOS</b> (115 modules)
                </a>
              </li>
              <li>
                <a href="/tags/centos">
                  <b>centos</b> (96 modules)
                </a>
              </li>
              <li>
                <a href="/tags/monitoring">
                  <b>monitoring</b> (79 modules)
                </a>
              </li>
              <li>
                <a href="/tags/networking">
                  <b>networking</b> (73 modules)
                </a>
              </li>
              <li>
                <a href="/tags/redhat">
                  <b>redhat</b> (69 modules)
                </a>
              </li>
              <li>
                <a href="/tags/security">
                  <b>security</b> (63 modules)
                </a>
              </li>
              <li>
                <a href="/tags/applications">
                  <b>applications</b> (61 modules)
                </a>
              </li>
            </ul>
          </section>
          
          <section class="banner">
            <a href="http://puppetconf.com/register/"><img src="/images/puppetconf_v1-01.png"></a>
          </section>        </section>
      </div>
    </section>
    <section id="footer">
       <div class="site-width">
         <div id="footer-links">
           <ul>
             <li><strong>Community</strong></li>
             <li><a href="http://webchat.freenode.net/?channels=puppet">IRC</a></li>
             <li><a href="http://groups.google.com/group/puppet-dev">Puppet Developer List</a></li>
             <li><a href="http://groups.google.com/group/puppet-users?pli=1">Puppet User List</a></li>
             <li><a href="http://www.linkedin.com/groups?about=&gid=696467&trk=anet_ug_grppro">Puppet Users' LinkedIn Group</a></li>
             <li><a href="http://puppetlabs.com/resources/newsletter/">Subscribe to Newsletter</a></li>
           </ul>
         </div>
         <div id="footer-bottom" class="clearfix">
           <div class="vcard">
             &copy; 2009-2012
             <span class="org">
               <a href="http://puppetlabs.com/" title="Puppet Labs">
               Puppet Labs
               </a>
             </span>
             <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>
             <span class="adr">
               <span class="street-address">926 NW 13th Ave., Suite 210</span>
               /
               <span class="locality">Portland</span>
               ,
               <span class="region">OR</span>
               <span class="postal-code">97209</span>
         
             </span>
             <span class="tel">+1 503-805-9065</span>
           </div>
           <div class="new-relic-logo">Monitored by <a href="http://newrelic.com/"><img src="/images/new-relic-oval.png"></a>
           </div>
         </div>
      </div>
    </section>
  </body>
</html>
