<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
                 <link rel="shortcut icon" href="/tnf/resource/favicon.ico" type="image/x-icon"> 
		<title>
			NetBSD Blog
		</title>
                <link rel="stylesheet" type="text/css" href='/tnf/resource/global.css' />
		<link rel="stylesheet" type="text/css" href='/tnf/page/custom.css' />
	</head>
	<body>
		
			        
            <link rel="alternate" type="application/atom+xml" title="Recent Entries (Atom)"  href="http://blog.netbsd.org/tnf/feed/entries/atom" />
    <link rel="alternate" type="application/rss+xml"  title="Recent Entries (RSS)"   href="http://blog.netbsd.org/tnf/feed/entries/rss" />
    <link rel="alternate" type="application/atom+xml" title="Recent Comments (Atom)" href="http://blog.netbsd.org/tnf/feed/comments/atom" />
    <link rel="alternate" type="application/rss+xml"  title="Recent Comments (RSS)"  href="http://blog.netbsd.org/tnf/feed/comments/rss" />

    
                <link rel="search"
            title="OpenSearch Descriptor for weblog NetBSD Blog"
            type="application/opensearchdescription+xml"
            href="http://blog.netbsd.org/roller-services/opensearch/tnf" />
    		
		<div id="header">
			<div class="topNavigation">
				<span>&raquo;</span> <a href="http://www.NetBSD.org/docs/guide/en/">The Guide</a> | <a href="http://man.NetBSD.org">Manual pages</a> | <a href="http://www.NetBSD.org/mailinglists/">Mailing lists</a> and <a href="http://mail-index.NetBSD.org/">Archives</a> | <a href="http://cvsweb.NetBSD.org/">CVS repository</a> | <a href="http://www.NetBSD.org/cgi-bin/sendpr.cgi?gndb=netbsd">Report</a> or <a href="http://gnats.NetBSD.org/">query</a> a bug | <a href="http://www.NetBSD.org/docs/software/packages.html">Software Packages</a>
			</div>
			<div class="centralHeader">
				<a href="/"><img src="/tnf/resource/NetBSD-headerlogo.png" alt="[NetBSD Logo]" width="506" height="90" /></a>
				<div class="headerTools">
<BR>
					<div id="headerSearch">
						<form method="get" action="/tnf/search">
							<input class="whiteOnBlack" type="text" name="q" onfocus="if(this.value==this.defaultValue ) this.value='';" size="12" maxlength="255" value="Search" /> <input type="submit" value="Search" />
						</form>
					</div>
				</div>
			</div>
			<div class="navBar">
				<a href="http://blog.netbsd.org/tnf/" title="Home">Home</a>&nbsp;|&nbsp;
                                <img src="/tnf/resource/feed-icon-14x14.png" border=0 align="absmiddle"><a href="http://blog.netbsd.org/tnf/feed/entries/atom">RSS</a>&nbsp;|&nbsp;
 <a href="http://blog.netbsd.org/tnf/category/General" title="General">General</a>&nbsp;|&nbsp;  <a href="http://blog.netbsd.org/tnf/category/Release+engineering" title="Blog about NetBSD release engineering.">Release engineering</a>&nbsp;|&nbsp;  <a href="http://blog.netbsd.org/tnf/category/Networking" title="">Networking</a>&nbsp;|&nbsp;  <a href="http://blog.netbsd.org/tnf/category/Development" title="About NetBSD development.">Development</a>&nbsp;|&nbsp;  <a href="http://blog.netbsd.org/tnf/category/Events" title="Upcoming and past events.">Events</a>&nbsp;|&nbsp;  <a href="http://blog.netbsd.org/tnf/category/The+NetBSD+Foundation" title="TNF articles.">The NetBSD Foundation</a>&nbsp;|&nbsp;  <a href="http://blog.netbsd.org/tnf/category/Packages" title="The most portable package software in the world.">Packages</a>&nbsp;|&nbsp;  <a href="http://blog.netbsd.org/tnf/category/Security" title="Security advisories and security related information.">Security</a>&nbsp;|&nbsp;  <a href="http://blog.netbsd.org/tnf/category/Ports" title="Port specific news">Ports</a>&nbsp;|&nbsp; 
      <a href="/roller-ui/login-redirect.rol"><span>Login</span></a>
  			</div>
		</div>
		<div id="content">
			<div class="rowOfBoxes">
				<div class="quarter noBorderOnLeft borderOnRight sideBarLeft">

                                                <h3>Bookmarks</h3>
                                                                                                <ul class="rFolder">
                    <li class="rFolderItem">
                                <a href="http://www.NetBSD.org/"
               title="NetBSD is a free, secure, and highly portable Unix-like Open Source operating system available for many platforms, from large-scale server systems to powerful desktop systems to handheld and embedded devices."
               class="rBookmark0">The NetBSD Project</a>
                </li>
            <li class="rFolderItem">
                                <a href="http://wiki.netbsd.org/"
               title="The NetBSD Wiki is a collaborative writing project to build useful resources for NetBSD users."
               class="rBookmark0">NetBSD Wiki</a>
                </li>
                    </ul>
	
						<h3>Feeds</h3>
						    <ul class="rFeeds">
    <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom">All</a></li>
                <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FGeneral">/General</a></li>
            <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FRelease+engineering">/Release engineering</a></li>
            <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FNetworking">/Networking</a></li>
            <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FDevelopment">/Development</a></li>
            <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FEvents">/Events</a></li>
            <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FThe+NetBSD+Foundation">/The NetBSD Foundation</a></li>
            <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FPackages">/Packages</a></li>
            <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FSecurity">/Security</a></li>
            <li><a href="http://blog.netbsd.org/tnf/feed/entries/atom?cat=%2FPorts">/Ports</a></li>
        <li><a href="http://blog.netbsd.org/tnf/feed/comments/atom">Comments</a></li>
    </ul>

			</div>
			</div>
			<div class="mainContent">
				<div class="half noBorderOnLeft" style="border-left: 1px dotted #000">
							  		              <h2><a href="http://blog.netbsd.org/tnf/entry/firefox_on_sparc64">Firefox on sparc64</a></h2><BR>
<div class="descr">May 26, 2013 posted by <i>Martin Husemann</I></div><BR>

  I use a NetBSD/sparc64 machine (a dual sun blade 2500 silver) as desktop. Of course this sometimes requires me fixing some of the desktop software I use. Luckily, as a software developer, my requirements are quite simple and most software I need (editors, gimp, xsane, ...) just works.
<p>
One of the itching points used to be Firefox. Late in the Firefox 4.0 release cycle some changes landed in the mozilla main tree that broke it for sparc64 - and for a while no one knew how to fix it.
<p>
When lately I had the need to test a web app with all "strange" clients available (I even booted my macppc into MacOS and tried the ancient safari version) I noticed that my sparc64 firefox (3.6.28) was not usable for testing - firefox did not have websocket support back then, which the app I was testing needed.
<p>
I checked out the mozilla mercurial tree for the firefox alpha version, applied all pkgsrc patches (we lyhave plenty!) and modified the configuration to generate a debuggable version, and after surprisingly little effort I had it building.
<p>
Of course it did not run.
<p>
So I started to debugging it (which is not for the light hearted, as you can imagine). Thanks to some bank holiday plus additional bridge day off I used a long weekend and managed to get it running:
<p>
<a href="http://www.netbsd.org/~martin/aurora-screen.jpg"><img src="https://blog.netbsd.org/tnf/mediaresource/09f1ea28-0d4f-417e-b83b-f363e3cfe4d0?t=true" alt="Firefox Aurora 22 screenshot"></img></a>
<p>
Then I tried to run my websocket app again, but it crashed imediately. So I fired up gdb one more time, and this time everything was fixed quickly. My app now runs fine (sorry, no pictures here, it is not yet public).
<p>
I filed all necessary changes as bugzilla tickets upstream and am working with the responsible maintainers to get them included.
<p>
This will be available in pkgsrc as soon as the official firefox 22 release is imported into pkgsrc.
<p>

   [<a href="http://blog.netbsd.org/tnf/entry/firefox_on_sparc64#comments">4 comments</a>]
 
</p>

<p>
<script type="text/javascript">
digg_url = 'http://blog.netbsd.org/tnf/entry/firefox_on_sparc64';
digg_title = 'Firefox on sparc64';
digg_skin = 'compact';
digg_window = 'new';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>

<!--
<img src="http://images.slashdot.org/favicon.ico" alt="Slashdot" border="0" height="16" width="16">
<a href="javascript:location.href='http://slashdot.org/slashdot-it.pl?op=basic&amp;url='+encodeURIComponent(http://blog.netbsd.org/tnf/entry/firefox_on_sparc64)">Slashdot It!</a>
-->
</p>

<p>&nbsp;</p>

    		  <div class="next-prev">
		  		                                 &laquo; <a href="http://blog.netbsd.org/tnf/entry/beaglebone_docs_pointer_needs_improvement">beaglebone docs...</a> |  
                <a href="/tnf/">Main</a>
                | <a href="http://blog.netbsd.org/tnf/entry/netbsd_s_google_summer_of2">NetBSD's Google...</a> &raquo;
    		  		  </div>
		  		     <br/><br/>
		     		         <a name="comments"></a>
    <div class="comments" id="comments">

            <div class="comments-head">Comments:</div>
            
    <br/>
                        <a name="comment-1369677062000" id="comment-1369677062000"></a>
            <div class="comment odd" id="comment1">

                Congrats! Words of real engineer, I like it :)

                <p class="comment-details">
                Posted by
                                    <b>Linux</b>
                
                on May 27, 2013 at 05:51 PM UTC

                <a href="http://blog.netbsd.org/tnf/entry/firefox_on_sparc64#comment-1369677062000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1369756838000" id="comment-1369756838000"></a>
            <div class="comment even" id="comment2">

                Now, I like that. Many thanks, Martin :)

                <p class="comment-details">
                Posted by
                                    <b>Jean-Yves</b>
                
                on May 28, 2013 at 04:00 PM UTC

                <a href="http://blog.netbsd.org/tnf/entry/firefox_on_sparc64#comment-1369756838000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1375261483000" id="comment-1375261483000"></a>
            <div class="comment odd" id="comment3">

                Is it possible to get a binary package of your work ?

Thanks Matze

                <p class="comment-details">
                Posted by
                                    <b>Matze79</b>
                
                on July 31, 2013 at 09:04 AM UTC

                <a href="http://blog.netbsd.org/tnf/entry/firefox_on_sparc64#comment-1375261483000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                                <a name="comment-1376344136000" id="comment-1376344136000"></a>
            <div class="comment even" id="comment4">

                would be nice to see firefox working on powerpc too

                <p class="comment-details">
                Posted by
                                    <b>butts</b>
                
                on August 12, 2013 at 09:48 PM UTC

                <a href="http://blog.netbsd.org/tnf/entry/firefox_on_sparc64#comment-1376344136000"
                   class="entrypermalink" title="comment permalink">#</a>
                </p>

            </div>

                </div>
		     		     
    <div class="comments-form">
    <div class="comments-head">Post a Comment:</div>
    <a name="comment-form"></a>

    <span class="status">Comments are closed for this entry.</span>

    </div>
		  				</div>
			</div>
			<div class="clearer"></div>
		</div>
		<div class="rowOfBoxes">
			<div id="footer">
				<span class="footfeed"><a href="http://www.NetBSD.org/cgi-bin/feedback.cgi">Contact</a> |</span> <span class="footcopy"><a href="http://www.NetBSD.org/about/disclaimer.html">Disclaimer</a> | <span class="copyright">Copyright © 1994-2009 The NetBSD Foundation, Inc.</span> ALL RIGHTS RESERVED.<br />
				NetBSD<sup>®</sup> is a registered trademark of The NetBSD Foundation, Inc.</span>
			</div>
		</div>
	</body>
</html>

