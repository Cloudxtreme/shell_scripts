<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Ruby | SoftLayer Development Network</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/sites/all/themes/softlayer/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/ldap_integration/ldaphelp/ldaphelp.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/aggregator/aggregator.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/node/node.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/defaults.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system-menus.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/user/user.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/apachesolr_autocomplete/apachesolr_autocomplete.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/apachesolr_autocomplete/jquery-autocomplete/jquery.autocomplete.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/cck/theme/content-module.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/ctools/css/ctools.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/dhtml_menu/dhtml_menu.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/geshifilter/geshifilter.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/panels/css/panels.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/rate/rate.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/tableofcontents/tableofcontents.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/cck/modules/fieldgroup/fieldgroup.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/views/css/views.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/flagger/css/flagger.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/style.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/css/black.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/css/suckerfish_black.css?s" />
  <script type="text/javascript"> </script>
  <!--[if lte IE 6]>
<script type="text/javascript"> 
    $(document).ready(function(){ 
        $(document).pngFix(); 
    }); 
</script> 
<![endif]-->
    <!--[if IE]>
<style type="text/css" media="all">@import "/sites/all/themes/softlayer/css/ie.css";</style>
<![endif]-->
      <!--[if lte IE 6]>
<script type="text/javascript" src="http://sldn.softlayer.com/sites/all/themes/softlayer/js/suckerfish.js"></script>
<![endif]-->
        <script type="text/javascript" src="http://sldn.softlayer.com/sites/all/themes/softlayer/js/pickstyle.js"></script>
</head>
<body class="sidebar-left">
  
  <div id="header" class="clear-block">
      <div id="logo-title">
                              <a href="/" title="SoftLayer.com"> <img src="/sites/all/themes/softlayer/logo.png" alt="Home" id="logo" /> </a>
                        </div><!-- /logo-title -->
      <div id="name-and-slogan">
        
              </div><!-- /name-and-slogan -->
            <form action="/article/Ruby"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text apachesolr-autocomplete unprocessed" />
</div>
<input type="submit" name="op" id="edit-submit-2" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-246d28a9a9355194dbd967005fb3730f" value="form-246d28a9a9355194dbd967005fb3730f"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
      

      <!-- Needs to be fixed, only temporary fix for now -->
              <div style="clear:both"></div>
        <div id="suckerfishmenu" class="clear-block">   <div class="block block-menu" id="block-menu-primary-links">
  <h2 class="title">Primary links</h2>  <div class="content"><ul class="menu"><li class="leaf first dhtml-menu "><a href="/articles" title="" id="dhtml_menu-1452">Articles</a></li>
<li class="leaf  dhtml-menu "><a href="/blog" title="" id="dhtml_menu-3611">Blog</a></li>
<li class="leaf  dhtml-menu "><a href="/reference/overview" title="" id="dhtml_menu-713">Reference</a></li>
<li class="leaf last dhtml-menu "><a href="https://forums.softlayer.com/forumdisplay.php?f=27" title="Forums" id="dhtml_menu-714">Forums</a></li>
</ul></div></div>
 </div>
          </div><!-- /header -->


  <div id="page">
    <div id="sub-banner">
        <div class="navtext">
          <div class="homelink"><a href="/" class="homelink">SLDN</a></div>
          <div class="sectionsep"> | </div> 
          <div class="sectionlink"><a href="/articles" class="sectionlink">Articles</a></div>
      </div>
    </div><!--/hero-banner -->
            <div id="middlecontainer">
              <div id="sidebar-left"><div class="sidebar-spacer"></div>  <div class="block block-views" id="block-views-Key_Articles-block_2">
  <h2 class="title">Key Articles</h2>  <div class="content"><div class="view view-Key-Articles view-id-Key_Articles view-display-id-block_2 view-dom-id-1">
    
  
  
      <div class="view-content">
        <div class="views-row views-row-1 views-row-odd views-row-first">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/Object-Masks">Object Masks</a></span>
  </div>
  </div>
  <div class="views-row views-row-2 views-row-even">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/CDN-Integration-%E2%80%93-Getting-Information-you-Need-Faster">CDN Integration – Getting the Information you Need, Faster</a></span>
  </div>
  </div>
  <div class="views-row views-row-3 views-row-odd">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/API-Operations-Search-Services">API Operations for Search Services</a></span>
  </div>
  </div>
  <div class="views-row views-row-4 views-row-even views-row-last">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/Legacy-Object-Masks">Legacy Object Masks</a></span>
  </div>
  </div>
    </div>
  
  
  
  
  
  
</div> </div></div>
</div>
            <div id="main">
        <div id="squeeze">
                                    <div id="breadcrumb"> <div class="breadcrumb"><a href="/articles">Articles</a> › Ruby</div> </div>
                                          <div id="squeeze-content">
            <div id="inner-content">
             
                              <div id="service-links">Share this article:   <div class="block block-service_links" id="block-service_links-service_links">
    <div class="content"><div class="service-links"><a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FRuby&amp;title=Ruby" title="Digg this post on digg.com" class="service-links-digg" rel="nofollow"><img src="/sites/all/modules/service_links/images/digg.png" alt="Digg" title="" width="16" height="16" /></a> <a href="http://reddit.com/submit?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FRuby&amp;title=Ruby" title="Submit this post on reddit.com." class="service-links-reddit" rel="nofollow"><img src="/sites/all/modules/service_links/images/reddit.png" alt="Reddit" title="" width="16" height="16" /></a> <a href="http://twitter.com/share?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FRuby&amp;text=Ruby" title="Share this on Twitter" class="service-links-twitter" rel="nofollow"><img src="/sites/all/modules/service_links/images/twitter.png" alt="Twitter" title="" width="16" height="16" /></a> <a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FRuby&amp;t=Ruby" title="Share on Facebook." class="service-links-facebook" rel="nofollow"><img src="/sites/all/modules/service_links/images/facebook.png" alt="Facebook" title="" width="16" height="16" /></a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FRuby&amp;title=Ruby&amp;summary=&amp;source=SoftLayer+Development+Network" title="Publish this post to LinkedIn" class="service-links-linkedin" rel="nofollow"><img src="/sites/all/modules/service_links/images/linkedin.png" alt="LinkedIn" title="" width="16" height="16" /></a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FRuby&amp;title=Ruby" title="Thumb this up at StumbleUpon" class="service-links-stumbleupon" rel="nofollow"><img src="/sites/all/modules/service_links/images/stumbleit.png" alt="StumbleUpon" title="" width="16" height="16" /></a></div></div></div>
</div>
                <div style="clear:both;"></div>
              
              <h1 class="title">Ruby</h1>
              <div class="tabs"></div>
                                          <div class="node">
    
  
  
  <div class="content"><script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc">
<div class="toc-title">Table of contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
<li class="toc-level-1"><a href="#Making_API_Calls">Making API Calls</a>
<ol>
<li class="toc-level-2"><a href="#Authentication">Authentication</a></li>
<li class="toc-level-2"><a href="#Calling_Service_Methods">Calling Service Methods</a></li>
<li class="toc-level-2"><a href="#Identifying_Particular_Objects">Identifying Particular Objects</a></li>
</ol>
</li>
<li class="toc-level-1"><a href="#Using_Object_Masks">Using Object Masks</a></li>
<li class="toc-level-1"><a href="#Error_Handling">Error Handling</a></li>
<li class="toc-level-1"><a href="#Referenced_API_Components">Referenced API Components</a>
<ol>
<li class="toc-level-2"><a href="#Services">Services</a></li>
<li class="toc-level-2"><a href="#Data_Types">Data Types</a></li>
<li class="toc-level-2"><a href="#Methods">Methods</a></li>
</ol>
</li>
<li class="toc-level-1"><a href="#External_Links">External Links</a></li>
</ol>
</div>
</div>
<p>The Ruby client is available as the <tt>softlayer_api</tt> Ruby gem. On most systems, the command:</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;">gem install softlayer_api</pre></div>
<p>installs the gem and makes it available to Ruby scripts. Where the gem is installed on your computer will depend on your particular distribution of Ruby. Refer to the gem documentation for your distribution for more information.</p>
<p>The Ruby client's source code is available on SoftLayer's github <a href="https://github.com/softlayer/softlayer-api-ruby-client">project</a>.</p>
<h2 id="Making_API_Calls">Making API Calls</h2>
<p>To begin using the Ruby client, you will have to create an instance of the <tt>SoftLayer::Service</tt> class for each the API Services that your code will call. To create the instance, you will have to provide information that the library will use to authenticate your account with the API servers.</p>
<p>Once you have created a service object, you will use that service object to call methods in the SoftLayer API.</p>
<h3 id="Authentication">Authentication</h3>
<p>That instance will have to know your API authentication information consisting of your account username and API key. In addition, you will have to select an endpoint, the web address the client will use to contact the SoftLayer API. You may provide this information either through global variables, or by passing them to the constructor.</p>
<h4 id="Providing_authentication_information_through_Globals">Providing authentication information through Globals</h4>
<p>The SoftLayer Ruby Client makes use of three global variables, in the SoftLayer name space, related to creating instances of the <tt>SoftLayer::Service</tt> class:</p>
<ul>
<li><tt>$SL_API_USERNAME</tt>: A string used as the default username used when creating Service objects</li>
<li><tt>$SL_API_KEY</tt>: A string used as the default API key used when creating Service objects.</li>
<li><tt>$SL_API_BASE_URL</tt>: The endpoint base URL used by the service. This variable defaults to <tt>API_PUBLIC_ENDPOINT</tt></li>
</ul>
<p>If you are going to create a lot of different Service objects and they are all going to use the same authentication information it may be convenient to set the values in these globals.</p>
<p>In addition to the globals, the SoftLayer namespace defines two constants representing the endpoints for the SoftLayer API on the private and public networks:</p>
<ul>
<li><tt>API_PUBLIC_ENDPOINT</tt>: A constant containing the base address for the public network REST inspired endpoint of the SoftLayer API – <a href="https://api.softlayer.com/rest/v3/">https://api.softlayer.com/rest/v3/</a></li>
<li><tt>API_PRIVATE_ENDPOINT</tt>: A constant containing the base address for the private network REST inspired endpoint of the SoftLayer API – <a href="https://api.service.softlayer.com/rest/v3/">https://api.service.softlayer.com/rest/v3/</a></li>
</ul>
<p>You can change the default endpoint URL by setting the global variable <tt>$SL_API_BASE_URL</tt> to either of these two values.</p>
<p>Here is an example of using these globals to create a service:</p>
<div class="geshifilter">
<pre class="ruby geshifilter-ruby" style="font-family:monospace;"><span style="color:#ff6633; font-weight:bold;">$SL_API_USERNAME</span> = <span style="color:#996600;">&quot;set me&quot;</span>;
<span style="color:#ff6633; font-weight:bold;">$SL_API_KEY</span> = <span style="color:#996600;">&quot;set me&quot;</span>
&nbsp;
account_service = <span style="color:#6666ff; font-weight:bold;">SoftLayer::Service</span>.<span style="color:#9900CC;">new</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;SoftLayer_Account&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span></pre></div>
<p>Note that the endpoint URL is not specified. The default endpoint URL is set to the <tt>API_PUBLIC_ENDPOINT</tt></p>
<h4 id="Providing_authentication_information_through_the_Constructor">Providing authentication information through the Constructor</h4>
<p>You can provide the authentication information needed by a Service object as hash arguments in the constructor. The keys used in the hash arguments are symbols whose values should be strings:</p>
<div class="geshifilter">
<pre class="text geshifilter-text" style="font-family:monospace;"> :username      The username used to authenticate with the server.
 :api_key       The API key used to authenticate with the server.
 :endpoint_url  The endpoint address that will receive the method calls.</pre></div>
<p>Here is an example, analogous to the one for global variables, which provides the username and API key as hash arguments. This example also changes the endpoint with the <tt>:endpoint_url</tt> symbol so that the service will use the API on the SoftLayer Private Network:</p>
<div class="geshifilter">
<pre class="ruby geshifilter-ruby" style="font-family:monospace;">account_service = <span style="color:#6666ff; font-weight:bold;">SoftLayer::Service</span>.<span style="color:#9900CC;">new</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;SoftLayer_Account&quot;</span>,
    <span style="color:#ff3333; font-weight:bold;">:username</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;set me&quot;</span>,
    <span style="color:#ff3333; font-weight:bold;">:api_key</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;set me&quot;</span>,
    <span style="color:#ff3333; font-weight:bold;">:endpoint_url</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> API_PRIVATE_ENDPOINT<span style="color:#006600; font-weight:bold;">&#41;</span></pre></div>
<h3 id="Calling_Service_Methods">Calling Service Methods</h3>
<p>With an instance of <tt>SoftLayer::Service</tt> in hand, you can call the methods provided by that service. Calling a API method on a service is as easy as calling a Ruby method on the service object. For example, given the account_service objects created above, a call to get a list of the open tickets on an account using the SoftLayer_Account service’s getOpenTickets method would look like this:</p>
<div class="geshifilter">
<pre class="ruby geshifilter-ruby" style="font-family:monospace;">open_tickets = account_service.<span style="color:#9900CC;">getOpenTickets</span></pre></div>
<p>If the method requires arguments, you can supply them as arguments to the method you’re calling on the service object. The arguments should be arguments that can be encoded using the JSON encoder provided by the json gem. Generally this means your argument should be hashes, arrays, strings, numbers, booleans, or nil. Here is an example of calling <a href="/reference/services/SoftLayer_Dns_Domain/createObject">SoftLayer_Dns_Domain::createObject</a>.</p>
<div class="geshifilter">
<pre class="ruby geshifilter-ruby" style="font-family:monospace;"><span style="color:#008000; font-style:italic;">#authentication information will be found in the global variables</span>
domain_service = <span style="color:#6666ff; font-weight:bold;">SoftLayer::Service</span>.<span style="color:#9900CC;">new</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;SoftLayer_Dns_Domain&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span>
new_domain = domain_service.<span style="color:#9900CC;">createObject</span><span style="color:#006600; font-weight:bold;">&#40;</span>
<span style="color:#006600; font-weight:bold;">&#123;</span>
    <span style="color:#996600;">&quot;name&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;example.org&quot;</span>,
    <span style="color:#996600;">&quot;resourceRecords&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006600; font-weight:bold;">&#91;</span>
        <span style="color:#006600; font-weight:bold;">&#123;</span>
            <span style="color:#996600;">&quot;host&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;@&quot;</span>,
            <span style="color:#996600;">&quot;data&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;127.0.0.1&quot;</span>,
            <span style="color:#996600;">&quot;type&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;a&quot;</span>
        <span style="color:#006600; font-weight:bold;">&#125;</span>
    <span style="color:#006600; font-weight:bold;">&#93;</span>
<span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span>
&nbsp;
<span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;New domain id: #{new_domain.id}&quot;</span></pre></div>
<h3 id="Identifying_Particular_Objects">Identifying Particular Objects</h3>
<p>Some method calls in the SoftLayer API are made on particular objects, rather than on the services themselves. These objects, however, are always obtained by a service. To call a method on a particular object you can chain a call to <tt>object_with_id</tt> onto the service that provides the object in question. object_with_id takes one argument, the object id of the object you are interested in. For example, if you were interested in getting the ticket with a ticket id of 123456 you could so so by calling:</p>
<div class="geshifilter">
<pre class="ruby geshifilter-ruby" style="font-family:monospace;">ticket_of_interest = ticket_service.<span style="color:#9900CC;">object_with_id</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006666;">123456</span><span style="color:#006600; font-weight:bold;">&#41;</span>.<span style="color:#9900CC;">getObject</span></pre></div>
<p>The <tt>object_with_id</tt> call returns an object that you can use as a reference to a particular object through the service. This allows you to reuse that object multiple times without having to repeatedly tack <tt>object_with_id</tt> on to all your requests. For example, if you want to find a ticket with the id 98765 and add an update to it if it’s assigned to user 123456, you might write code like this:</p>
<div class="geshifilter">
<pre class="ruby geshifilter-ruby" style="font-family:monospace;">ticket_service = <span style="color:#6666ff; font-weight:bold;">SoftLayer::Service</span>.<span style="color:#9900CC;">new</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;SoftLayer_Ticket&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span>
&nbsp;
<span style="color:#9966CC; font-weight:bold;">begin</span>
    ticket_ref = ticket_service.<span style="color:#9900CC;">object_with_id</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006666;">98765</span><span style="color:#006600; font-weight:bold;">&#41;</span>
    ticket = ticket_ref.<span style="color:#9900CC;">object_mask</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;assignedUserId&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span>.<span style="color:#9900CC;">getObject</span>
&nbsp;
    <span style="color:#9966CC; font-weight:bold;">if</span> ticket<span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#996600;">'assignedUserId'</span><span style="color:#006600; font-weight:bold;">&#93;</span> = <span style="color:#006666;">123456</span>
&nbsp;
        updates = ticket_ref.<span style="color:#9900CC;">addUpdate</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#123;</span><span style="color:#996600;">&quot;entry&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;Get to work on these tickets!&quot;</span><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span>
    <span style="color:#9966CC; font-weight:bold;">end</span>
<span style="color:#9966CC; font-weight:bold;">rescue</span> <span style="color:#CC00FF; font-weight:bold;">Exception</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> exception
    <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;An error occurred while updating the ticket: #{exception}&quot;</span>
<span style="color:#9966CC; font-weight:bold;">end</span></pre></div>
<p>The code creates a variable named <tt>ticket_ref</tt> which refers to ticket 98765 through the ticket_service. This ticket_ref is used with an object_mask to retrieve the ticket and, if the ticket meets the conditional requirement, that same ticket_ref is reused to add an update to the ticket.</p>
<h2 id="Using_Object_Masks">Using Object Masks</h2>
<p>Use hashes to create an <a href="/article/Using Object Masks in the SoftLayer API">Using Object Masks in the SoftLayer API</a> to your API call. Define the relational properties you wish to retrieve in your hash key names. If you're retrieving child properties then define a nested hash for your child property, otherwise define an empty string as your key's value. Bind your object mask to your API client with the <tt>object_mask()</tt> method. <tt>object_mask()</tt> creates a new API service reference, much like the <tt>object_with_id()</tt> method. You can either apply your object mask on the same line as your API call or create new API service reference with <tt>object_Mask()</tt> and call your API method on its result.</p>
<p>This example retrieves an account's physical hardware records along with that hardware's operating system record, operating system passwords, network components, the datacenter the hardware is located in, and the number of processors in each hardware:</p>
<div class="geshifilter">
<pre class="ruby geshifilter-ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'softlayer_api'</span>
&nbsp;
account_service = <span style="color:#6666ff; font-weight:bold;">SoftLayer::Service</span>.<span style="color:#9900CC;">new</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;SoftLayer_Account&quot;</span>,
    <span style="color:#ff3333; font-weight:bold;">:username</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;set me&quot;</span>,                                                                                                                                             
    <span style="color:#ff3333; font-weight:bold;">:api_key</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;set me&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span>
&nbsp;
<span style="color:#008000; font-style:italic;"># Retrieve items related to hardware.</span>
<span style="color:#008000; font-style:italic;">#</span>
<span style="color:#008000; font-style:italic;"># Operating system, operating system passwords, all network components, the</span>
<span style="color:#008000; font-style:italic;"># datacenter the server is located in, and the number of processors in each</span>
<span style="color:#008000; font-style:italic;"># server.</span>
object_mask = <span style="color:#006600; font-weight:bold;">&#123;</span>
     <span style="color:#996600;">&quot;hardware&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006600; font-weight:bold;">&#123;</span>
        <span style="color:#996600;">&quot;operatingSystem&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006600; font-weight:bold;">&#123;</span>
            <span style="color:#996600;">&quot;passwords&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;&quot;</span>,
        <span style="color:#006600; font-weight:bold;">&#125;</span>,
        <span style="color:#996600;">&quot;networkComponents&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;&quot;</span>,
        <span style="color:#996600;">&quot;datacenter&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;&quot;</span>,
        <span style="color:#996600;">&quot;processorCount&quot;</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;&quot;</span>
    <span style="color:#006600; font-weight:bold;">&#125;</span>
<span style="color:#006600; font-weight:bold;">&#125;</span>
&nbsp;
account = account_service.<span style="color:#9900CC;">object_mask</span><span style="color:#006600; font-weight:bold;">&#40;</span>object_mask<span style="color:#006600; font-weight:bold;">&#41;</span>.<span style="color:#9900CC;">getHardware</span>
&nbsp;
<span style="color:#008000; font-style:italic;"># This will also work:</span>
&nbsp;
masked_service = account_service.<span style="color:#9900CC;">object_mask</span><span style="color:#006600; font-weight:bold;">&#40;</span>object_mask<span style="color:#006600; font-weight:bold;">&#41;</span>
account = masked_service.<span style="color:#9900CC;">getHardware</span></pre></div>
<h2 id="Error_Handling">Error Handling</h2>
<p>SoftLayer API call errors are thrown by the Ruby client as <a href="http://www.ruby-doc.org/core/classes/Exception.html">exception</a> objects. Place calls to the SoftLayer API inside begin/rescue blocks to ensure proper handling.</p>
<div class="geshifilter">
<pre class="ruby geshifilter-ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'softlayer_api'</span>
&nbsp;
account_service = <span style="color:#6666ff; font-weight:bold;">SoftLayer::Service</span>.<span style="color:#9900CC;">new</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;SoftLayer_Account&quot;</span>,
    <span style="color:#ff3333; font-weight:bold;">:username</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;set me&quot;</span>,
    <span style="color:#ff3333; font-weight:bold;">:api_key</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;incorrect password&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span>
&nbsp;
<span style="color:#008000; font-style:italic;"># Exit the script with the message:</span>
<span style="color:#008000; font-style:italic;"># &quot;Unable to retrieve account information: Access Denied&quot;</span>
<span style="color:#9966CC; font-weight:bold;">begin</span>
    account = account_service.<span style="color:#9900CC;">getObject</span>
<span style="color:#9966CC; font-weight:bold;">rescue</span> <span style="color:#CC00FF; font-weight:bold;">Exception</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> exception
    <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;Unable to retrieve account information: #{exception}&quot;</span>
<span style="color:#9966CC; font-weight:bold;">end</span></pre></div>
<h2 id="Referenced_API_Components">Referenced API Components</h2>
<h3 id="Services">Services</h3>
<ul>
<li><a href="/reference/services/SoftLayer_Account/">SoftLayer_Account</a></li>
<li><a href="/reference/services/SoftLayer_Dns_Domain/">SoftLayer_Dns_Domain</a></li>
<li><a href="/reference/services/SoftLayer_Hardware_Server/">SoftLayer_Hardware_Server</a></li>
<li><a href="/reference/services/SoftLayer_Ticket/">SoftLayer_Ticket</a></li>
</ul>
<h3 id="Data_Types">Data Types</h3>
<ul>
<li><a href="/reference/datatypes/SoftLayer_Hardware_Server/">SoftLayer_Hardware_Server</a></li>
</ul>
<h3 id="Methods">Methods</h3>
<ul>
<li><a href="/reference/services/SoftLayer_Account/getObject">SoftLayer_Account::getObject</a></li>
<li><a href="/reference/services/SoftLayer_Account/getHardware">SoftLayer_Account::getHardware</a></li>
<li><a href="/reference/services/SoftLayer_Account/getOpenTickets">SoftLayer_Account::getOpenTickets</a></li>
<li><a href="/reference/services/SoftLayer_Dns_Domain/createARecord">SoftLayer_Dns_Domain::createARecord</a></li>
<li><a href="/reference/services/SoftLayer_Ticket/addUpdate">SoftLayer_Ticket::addUpdate</a></li>
<li><a href="/reference/services/SoftLayer_Ticket/getObject">SoftLayer_Ticket::getObject</a></li>
</ul>
<h2 id="External_Links">External Links</h2>
<ul>
<li><a href="http://www.ruby-lang.org/en/">Ruby Programming Language</a></li>
<li><a href="http://rubygems.org/gems/softlayer_api">softlayer_api</a> at <a href="http://rubygems.org/">rubygems.org</a></li>
<li><a href="http://github.com/softlayer/softlayer-api-ruby-client">The SoftLayer API Ruby Client</a> at <a href="http://github.com/">github</a></li>
</ul>
<div class="flagger">
					<span class="flaggertitle">Was this helpful?</span>
					<div class="flaggeroption"><a id="flaggeryes" href="#">Yes</a></div>
					<div class="flaggeroption"><a id="flaggerno" href="#">No</a></div>
					<form id="flaggerform" method="post">
					<div style="display:none;" class="flaggermessage">Thank you! If you'd like to leave a comment, please use the form below: <div class="flaggercomment"><textarea class="flaggertext" name="flaggertext"></textarea><input type="submit" class="submit" id="flaggersubmit" value="Submit" /></div></div><div style="display:none" class="flaggersuccess">Your comment has been submitted! Thank you for your feedback.</div>
					</form>
				</div>
				<div id="flaggerget" style="display:none;"></div>
				<div id="flaggernode" style="display:none;">26509</div></div>
  <div class="clear-block clear"></div>

      <div class="links"><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>
  
</div>
 
                                        </div><!-- /inner-content -->
          </div><!-- /squeeze-content -->
        </div><!-- /squeeze -->
      </div><!-- /main -->
          </div><!-- /middle-container -->
    <div style="clear:both"></div>
            <div id="footer">
              <div id="footer-region">  <div class="block block-block" id="block-block-3">
    <div class="content"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22553883-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></div></div>
</div>
                  
      &copy; 2013 SoftLayer Technologies, Inc. All rights reserved.
    </div><!-- /footer -->
  <div style="clear:both"></div>
  <script type="text/javascript" src="/sites/all/modules/jquery_update/replace/jquery.min.js?s"></script>
<script type="text/javascript" src="/misc/drupal.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/apachesolr_autocomplete/apachesolr_autocomplete.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/apachesolr_autocomplete/jquery-autocomplete/jquery.autocomplete.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/dhtml_menu/dhtml_menu.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/panels/js/panels.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/jquery.scrollTo-min.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/jquery.localscroll-min.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/tableofcontents.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/flagger/js/flagger.js?s"></script>
<script type="text/javascript" src="/misc/collapse.js?s"></script>
<script type="text/javascript" src="/misc/tableheader.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/views/js/base.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/views/js/ajax_view.js?s"></script>
<script type="text/javascript" src="/sites/all/themes/softlayer/js/jquery.pngFix.js?s"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "apachesolr_autocomplete": { "path": "/apachesolr_autocomplete" }, "dhtmlMenu": { "slide": "slide", "clone": "clone" }, "views": { "ajax_path": "/views/ajax", "ajaxViews": [ { "view_name": "Key_Articles", "view_display_id": "block_2", "view_args": "", "view_path": "node/26509", "view_base_path": "articles", "view_dom_id": 1, "pager_element": 0 } ] } });
//--><!]]>
</script>
    </div> <!-- /page -->
</body>
</html>
