<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>PHP | SoftLayer Development Network</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/sites/all/themes/softlayer/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/ldap_integration/ldaphelp/ldaphelp.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/aggregator/aggregator.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/node/node.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/defaults.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system-menus.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/user/user.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/apachesolr_autocomplete/apachesolr_autocomplete.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/apachesolr_autocomplete/jquery-autocomplete/jquery.autocomplete.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/cck/theme/content-module.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/ctools/css/ctools.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/dhtml_menu/dhtml_menu.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/geshifilter/geshifilter.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/panels/css/panels.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/rate/rate.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/tableofcontents/tableofcontents.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/cck/modules/fieldgroup/fieldgroup.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/views/css/views.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/modules/flagger/css/flagger.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/style.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/css/black.css?s" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/softlayer/css/suckerfish_black.css?s" />
  <script type="text/javascript"> </script>
  <!--[if lte IE 6]>
<script type="text/javascript"> 
    $(document).ready(function(){ 
        $(document).pngFix(); 
    }); 
</script> 
<![endif]-->
    <!--[if IE]>
<style type="text/css" media="all">@import "/sites/all/themes/softlayer/css/ie.css";</style>
<![endif]-->
      <!--[if lte IE 6]>
<script type="text/javascript" src="http://sldn.softlayer.com/sites/all/themes/softlayer/js/suckerfish.js"></script>
<![endif]-->
        <script type="text/javascript" src="http://sldn.softlayer.com/sites/all/themes/softlayer/js/pickstyle.js"></script>
</head>
<body class="sidebar-left">
  
  <div id="header" class="clear-block">
      <div id="logo-title">
                              <a href="/" title="SoftLayer.com"> <img src="/sites/all/themes/softlayer/logo.png" alt="Home" id="logo" /> </a>
                        </div><!-- /logo-title -->
      <div id="name-and-slogan">
        
              </div><!-- /name-and-slogan -->
            <form action="/article/PHP"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text apachesolr-autocomplete unprocessed" />
</div>
<input type="submit" name="op" id="edit-submit-2" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-20f405717e4ed64bcdd0cfac386a86c8" value="form-20f405717e4ed64bcdd0cfac386a86c8"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
      

      <!-- Needs to be fixed, only temporary fix for now -->
              <div style="clear:both"></div>
        <div id="suckerfishmenu" class="clear-block">   <div class="block block-menu" id="block-menu-primary-links">
  <h2 class="title">Primary links</h2>  <div class="content"><ul class="menu"><li class="leaf first dhtml-menu "><a href="/articles" title="" id="dhtml_menu-1452">Articles</a></li>
<li class="leaf  dhtml-menu "><a href="/blog" title="" id="dhtml_menu-3611">Blog</a></li>
<li class="leaf  dhtml-menu "><a href="/reference/overview" title="" id="dhtml_menu-713">Reference</a></li>
<li class="leaf last dhtml-menu "><a href="https://forums.softlayer.com/forumdisplay.php?f=27" title="Forums" id="dhtml_menu-714">Forums</a></li>
</ul></div></div>
 </div>
          </div><!-- /header -->


  <div id="page">
    <div id="sub-banner">
        <div class="navtext">
          <div class="homelink"><a href="/" class="homelink">SLDN</a></div>
          <div class="sectionsep"> | </div> 
          <div class="sectionlink"><a href="/articles" class="sectionlink">Articles</a></div>
      </div>
    </div><!--/hero-banner -->
            <div id="middlecontainer">
              <div id="sidebar-left"><div class="sidebar-spacer"></div>  <div class="block block-views" id="block-views-Key_Articles-block_2">
  <h2 class="title">Key Articles</h2>  <div class="content"><div class="view view-Key-Articles view-id-Key_Articles view-display-id-block_2 view-dom-id-1">
    
  
  
      <div class="view-content">
        <div class="views-row views-row-1 views-row-odd views-row-first">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/Object-Masks">Object Masks</a></span>
  </div>
  </div>
  <div class="views-row views-row-2 views-row-even">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/CDN-Integration-%E2%80%93-Getting-Information-you-Need-Faster">CDN Integration – Getting the Information you Need, Faster</a></span>
  </div>
  </div>
  <div class="views-row views-row-3 views-row-odd">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/API-Operations-Search-Services">API Operations for Search Services</a></span>
  </div>
  </div>
  <div class="views-row views-row-4 views-row-even views-row-last">
      
  <div class="views-field-title">
                <span class="field-content"><a href="/article/Legacy-Object-Masks">Legacy Object Masks</a></span>
  </div>
  </div>
    </div>
  
  
  
  
  
  
</div> </div></div>
</div>
            <div id="main">
        <div id="squeeze">
                                    <div id="breadcrumb"> <div class="breadcrumb"><a href="/articles">Articles</a> › PHP</div> </div>
                                          <div id="squeeze-content">
            <div id="inner-content">
             
                              <div id="service-links">Share this article:   <div class="block block-service_links" id="block-service_links-service_links">
    <div class="content"><div class="service-links"><a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FPHP&amp;title=PHP" title="Digg this post on digg.com" class="service-links-digg" rel="nofollow"><img src="/sites/all/modules/service_links/images/digg.png" alt="Digg" title="" width="16" height="16" /></a> <a href="http://reddit.com/submit?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FPHP&amp;title=PHP" title="Submit this post on reddit.com." class="service-links-reddit" rel="nofollow"><img src="/sites/all/modules/service_links/images/reddit.png" alt="Reddit" title="" width="16" height="16" /></a> <a href="http://twitter.com/share?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FPHP&amp;text=PHP" title="Share this on Twitter" class="service-links-twitter" rel="nofollow"><img src="/sites/all/modules/service_links/images/twitter.png" alt="Twitter" title="" width="16" height="16" /></a> <a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FPHP&amp;t=PHP" title="Share on Facebook." class="service-links-facebook" rel="nofollow"><img src="/sites/all/modules/service_links/images/facebook.png" alt="Facebook" title="" width="16" height="16" /></a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FPHP&amp;title=PHP&amp;summary=&amp;source=SoftLayer+Development+Network" title="Publish this post to LinkedIn" class="service-links-linkedin" rel="nofollow"><img src="/sites/all/modules/service_links/images/linkedin.png" alt="LinkedIn" title="" width="16" height="16" /></a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fsldn.softlayer.com%2Farticle%2FPHP&amp;title=PHP" title="Thumb this up at StumbleUpon" class="service-links-stumbleupon" rel="nofollow"><img src="/sites/all/modules/service_links/images/stumbleit.png" alt="StumbleUpon" title="" width="16" height="16" /></a></div></div></div>
</div>
                <div style="clear:both;"></div>
              
              <h1 class="title">PHP</h1>
              <div class="tabs"></div>
                                          <div class="node">
    
  
  
  <div class="content"><p>SoftLayer provides a PHP-based API client that takes the heavy lifting out making manual SOAP or XML-RPC calls. To use the PHP-based API client, the following system requirements must be met:</p>
<ul>
<li>PHP 5.2.3 or higher</li>
<li>One of the following PHP extensions:
<ul>
<li><a href="http://php.net/manual/en/book.soap.php">SOAP</a></li>
<li><a href="http://php.net/manual/en/book.xmlrpc.php">XML-RPC</a></li>
</ul>
</li>
</ul>
<p>Download the SoftLayer PHP API client from its <a href="http://github.com/softlayer/softlayer-api-php-client">project page</a> on SoftLayer's github profile. Once downloaded, extract the PHP API Client to a directory local to your PHP project or into your PHP installation's include_path.<br />
<a href="http://github.com/softlayer/softlayer-api-php-client">Download the SoftLayer API PHP client</a></p>
<script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc">
<div class="toc-title">Table of contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
<li class="toc-level-1"><a href="#Making_SOAP_Calls">Making SOAP Calls</a></li>
<li class="toc-level-1"><a href="#Using_XML-RPC">Using XML-RPC</a></li>
<li class="toc-level-1"><a href="#Using_Object_Masks">Using Object Masks</a></li>
<li class="toc-level-1"><a href="#Using_Result_Limits">Using Result Limits</a></li>
<li class="toc-level-1"><a href="#Error_Handling">Error Handling</a></li>
<li class="toc-level-1"><a href="#Referenced_API_Components">Referenced API Components</a>
<ol>
<li class="toc-level-2"><a href="#Services">Services</a></li>
<li class="toc-level-2"><a href="#Data_Types">Data Types</a></li>
<li class="toc-level-2"><a href="#Methods">Methods</a></li>
</ol>
</li>
<li class="toc-level-1"><a href="#External_Links">External Links</a></li>
</ol>
</div>
</div>
<h2 id="Making_SOAP_Calls">Making SOAP Calls</h2>
<p>Once the API client is downloaded and installed the first thing to do is include the <span class="geshifilter"><code class="php geshifilter-php">SoapClient<span style="color: #339933;">.</span><span style="color: #000000; font-weight: bold;">class</span><span style="color: #339933;">.</span>php</code></span> file in your script. This file defines SoftLayer's client objects.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
 <span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'/path/to/SoftLayer/SoapClient.class.php'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>Next, create a client object for the SoftLayer API <a href="http://sldn.softlayer.com/article/service">service</a> you wish to use. <span class="geshifilter"><code class="php geshifilter-php">SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></code></span> will take care of this for you and takes four parameters:</p>
<ul>
<li>The name of the service you wish to call.</li>
<li>An optional id number of the specific object you wish to work with. Pass a <span class="geshifilter"><code class="text geshifilter-text">null</code></span> value if you're either working with the <a href="/reference/services/SoftLayer_Account/">SoftLayer_Account</a> service or are not working with a specific server, support ticket, invoice, or other object. This id creates an <a href="/article/initialization parameter">initialization parameter</a> in your API call.</li>
<li>Your API username.</li>
<li>Your API key.</li>
</ul>
<p>The code snippet below provides an example of making a SOAP call, utilizing the parameters outlined above:</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'/path/to/SoftLayer/SoapClient.class.php'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$apiUsername</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$apiKey</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009933; font-style: italic;">/**
 * Create a client to the SoftLayer_Account API service.
 */</span>
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Account'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiUsername</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiKey</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009933; font-style: italic;">/**
 * Work directly with the SoftLayer_Hardware_Server record with the hardware id 
 * 1234.
 */</span>
<span style="color: #000088;">$serverId</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1234</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Hardware_Server'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$serverId</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiUsername</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiKey</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>Once your API client object is ready call a SoftLayer API method as if it were local to your client object. Assign the result of your API call to a variable to get the call's result. Complex type objects are returned as PHP stdClass objects. Likewise, use stdClass objects if you need to pass complex type parameters to your API calls.  For example:</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'/path/to/SoftLayer/SoapClient.class.php'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$apiUsername</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$apiKey</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$domainId</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1234</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Dns_Domain'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$domainId</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiUsername</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiKey</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009933; font-style: italic;">/**
 * Create a new A record in a domain.
 */</span>
<span style="color: #000088;">$newRecord</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">createARecord</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'myhost'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'127.0.0.1'</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">86400</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<a href="http://www.php.net/echo"><span style="color: #990000;">echo</span></a> <span style="color: #0000ff;">'New A record id: '</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$newRecord</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">id</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009933; font-style: italic;">/**
 * Create a new domain record. 
 * 
 * This requires an API client with a null id, and use a stdClass object to model 
 *our new domain.
 */</span>
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Dns_Domain'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiUsername</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiKey</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$domain</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> stdClass<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$domain</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'example.org'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$domain</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">resourceRecords</span> <span style="color: #339933;">=</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$domain</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">resourceRecords</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> stdClass<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$domain</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">resourceRecords</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">host</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'@'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$domain</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">resourceRecords</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">data</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'127.0.0.1'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$domain</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">resourceRecords</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">type</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'a'</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$newDomain</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">createObject</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$domain</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<a href="http://www.php.net/echo"><span style="color: #990000;">echo</span></a> <span style="color: #0000ff;">'New domain id: '</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$newDomain</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">id</span><span style="color: #339933;">;</span></pre></div>
<h2 id="Using_XML-RPC">Using XML-RPC</h2>
<p>The SoftLayer API PHP client supports both the SOAP and XML-RPC protocols interchangeably. If you wish to use XML-RPC instead of SOAP, two changes are required:</p>
<ul>
<li>Include <span class="geshifilter"><code class="text geshifilter-text">XmlrpcClient.class.php</code></span> instead of <span class="geshifilter"><code class="text geshifilter-text">SoapClient.class.php</code></span></li>
<li>Create an API client with <span class="geshifilter"><code class="text geshifilter-text">SoftLayer_XmlrpcClient::getClient()</code></span> instead of <span class="geshifilter"><code class="text geshifilter-text">SoftLayer_SoapClient::getClient()</code></span><br />
For instance:</li>
</ul>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'/path/to/SoftLayer/XmlrpcClient.class.php'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$apiUsername</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$apiKey</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> SoftLayer_XmlrpcClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Account'</span> <span style="color: #000000; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiUsername</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiKey</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<h2 id="Using_Object_Masks">Using Object Masks</h2>
<p>Create an <a href="/article/object mask">object mask</a> in your API call by first declaring a new <span class="geshifilter"><code class="text geshifilter-text">SoftLayer_ObjectMask</code></span> object. Define the relational properties you wish to retrieve as local properties in your new mask object. Finally, bind it to your API client by using the <span class="geshifilter"><code class="text geshifilter-text">setObjectMask()</code></span> method. This example retrieves the following information:</p>
<ul>
<li>The account's physical hardware </li>
<li>The hardware's operating system record </li>
<li>Operating system password</li>
<li>Network components</li>
<li>The datacenter in which the hardware is located </li>
<li>The number of processors in each hardware</li>
</ul>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'/path/to/SoftLayer/SoapClient.class.php'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$apiUsername</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$apiKey</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Account'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiUsername</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiKey</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009933; font-style: italic;">/**
 * Retrieve items related to hardware.
 *
 * Operating system, operating system passwords, all network components, the
 * datacenter the server is located in, and the number of processors in each 
 * server.
 */</span>
<span style="color: #000088;">$objectMask</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoftLayer_ObjectMask<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$objectMask</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">hardware</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">operatingSystem</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">passwords</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$objectMask</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">hardware</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">networkComponents</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$objectMask</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">hardware</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">datacenter</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$objectMask</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">hardware</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">processorCount</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setObjectMask</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$objectMask</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$hardware</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getHardware</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<h2 id="Using_Result_Limits">Using Result Limits</h2>
<p>When calling data, especially queries that involve pulling snippets of information from larger groups, utilizing result limits will greatly decrease your wait time for the return.<br />
Limit the number of results in your API call with your client object's <span class="geshifilter"><code class="text geshifilter-text">setResultLimit()</code></span> method. This method takes two parameters:</p>
<ul>
<li>The number of results to limit your call.</li>
<li>An optional offset to begin your result set.<br />
The example below incorporates the required information to set a result limit:</li>
</ul>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'/path/to/SoftLayer/SoapClient.class.php'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$apiUsername</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$apiKey</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me'</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Account'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiUsername</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiKey</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009933; font-style: italic;">/**
 * Retrieve our first two open support tickets.
 */</span>
<span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setResultLimit</span><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">2</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$tickets</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getOpenTickets</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<h2 id="Error_Handling">Error Handling</h2>
<p>SoftLayer API call errors are thrown by the PHP client as <a href="/article/exceptions">exceptions</a>. Place calls to the SoftLayer API inside try/catch blocks to ensure proper handling. Use the PHP exception classes' <span class="geshifilter"><code class="text geshifilter-text">getMessage()</code></span> method to access errors returned by the SoftLayer API.  The following script contains an example of such error:</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'/path/to/SoftLayer/SoapClient.class.php'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$apiUsername</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'set me!'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$apiKey</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'an incorrect API key'</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoftLayer_SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Account'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiUsername</span><span style="color: #339933;">,</span> <span style="color: #000088;">$apiKey</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009933; font-style: italic;">/**
 * Exit the script with the message:
 * &quot;Unable to retrieve account information: Invalid API key&quot;
 */</span>
try <span style="color: #009900;">&#123;</span>
    <span style="color: #000088;">$account</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getObject</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span> catch <span style="color: #009900;">&#40;</span>Exception <span style="color: #000088;">$e</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <a href="http://www.php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Unable to retrieve account information: '</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$e</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getMessage</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div>
<h2 id="Referenced_API_Components">Referenced API Components</h2>
<h3 id="Services">Services</h3>
<ul>
<li><a href="/reference/services/SoftLayer_Account/">SoftLayer_Account</a></li>
<li><a href="/reference/services/SoftLayer_Dns_Domain/">SoftLayer_Dns_Domain</a></li>
<li><a href="/reference/services/SoftLayer_Hardware_Server/">SoftLayer_Hardware_Server</a></li>
</ul>
<h3 id="Data_Types">Data Types</h3>
<ul>
<li><a href="/reference/services/SoftLayer_Hardware_Server/">SoftLayer_Hardware_Server</a></li>
</ul>
<h3 id="Methods">Methods</h3>
<ul>
<li><a href="/reference/services/SoftLayer_Account/getObject">SoftLayer_Account::getObject</a></li>
<li><a href="/reference/services/SoftLayer_Account/getHardware">SoftLayer_Account::getHardware</a></li>
<li><a href="/reference/services/SoftLayer_Account/getOpenTickets">SoftLayer_Account::getOpenTickets</a></li>
<li><a href="/reference/services/SoftLayer_Dns_Domain/createARecord">SoftLayer_Dns_Domain::createARecord</a></li>
</ul>
<h2 id="External_Links">External Links</h2>
<ul>
<li><a href="http://www.php.net/">PHP: Hypertext Processor</a></li>
<li><a href="http://github.com/softlayer/softlayer-api-php-client">The SoftLayer API PHP Client</a> at <a href="http://github.com">github</a></li>
</ul>
<div class="flagger">
					<span class="flaggertitle">Was this helpful?</span>
					<div class="flaggeroption"><a id="flaggeryes" href="#">Yes</a></div>
					<div class="flaggeroption"><a id="flaggerno" href="#">No</a></div>
					<form id="flaggerform" method="post">
					<div style="display:none;" class="flaggermessage">Thank you! If you'd like to leave a comment, please use the form below: <div class="flaggercomment"><textarea class="flaggertext" name="flaggertext"></textarea><input type="submit" class="submit" id="flaggersubmit" value="Submit" /></div></div><div style="display:none" class="flaggersuccess">Your comment has been submitted! Thank you for your feedback.</div>
					</form>
				</div>
				<div id="flaggerget" style="display:none;"></div>
				<div id="flaggernode" style="display:none;">26508</div></div>
  <div class="clear-block clear"></div>

      <div class="links"><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>
  
</div>
 
                                        </div><!-- /inner-content -->
          </div><!-- /squeeze-content -->
        </div><!-- /squeeze -->
      </div><!-- /main -->
          </div><!-- /middle-container -->
    <div style="clear:both"></div>
            <div id="footer">
              <div id="footer-region">  <div class="block block-block" id="block-block-3">
    <div class="content"><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22553883-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></div></div>
</div>
                  
      &copy; 2013 SoftLayer Technologies, Inc. All rights reserved.
    </div><!-- /footer -->
  <div style="clear:both"></div>
  <script type="text/javascript" src="/sites/all/modules/jquery_update/replace/jquery.min.js?s"></script>
<script type="text/javascript" src="/misc/drupal.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/apachesolr_autocomplete/apachesolr_autocomplete.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/apachesolr_autocomplete/jquery-autocomplete/jquery.autocomplete.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/dhtml_menu/dhtml_menu.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/panels/js/panels.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/jquery.scrollTo-min.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/jquery.localscroll-min.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/tableofcontents/tableofcontents.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/flagger/js/flagger.js?s"></script>
<script type="text/javascript" src="/misc/collapse.js?s"></script>
<script type="text/javascript" src="/misc/tableheader.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/views/js/base.js?s"></script>
<script type="text/javascript" src="/sites/all/modules/views/js/ajax_view.js?s"></script>
<script type="text/javascript" src="/sites/all/themes/softlayer/js/jquery.pngFix.js?s"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "apachesolr_autocomplete": { "path": "/apachesolr_autocomplete" }, "dhtmlMenu": { "slide": "slide", "clone": "clone" }, "views": { "ajax_path": "/views/ajax", "ajaxViews": [ { "view_name": "Key_Articles", "view_display_id": "block_2", "view_args": "", "view_path": "node/26508", "view_base_path": "articles", "view_dom_id": 1, "pager_element": 0 } ] } });
//--><!]]>
</script>
    </div> <!-- /page -->
</body>
</html>
